{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/login/Login.vue","mtime":1679276972540},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/babel.config.js","mtime":1677682822494},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybToge30sCiAgICAgIHBhc3N3b3JkRm9ybTogewogICAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICAgIG5ld1Bhc3N3b3JkOiBudWxsLAogICAgICAgIHR3aWNlUGFzc3dvcmQ6IG51bGwKICAgICAgfSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU0OiBmYWxzZQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBwYXNzd29yZE91dCgpIHsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZTQgPSB0cnVlOwogICAgfSwKCiAgICBjaGFuZ2VQYXNzd29yZCgpIHsKICAgICAgaWYgKHRoaXMucGFzc3dvcmRGb3JtLnVzZXJuYW1lID09IG51bGwgfHwgdGhpcy5wYXNzd29yZEZvcm0ubmV3UGFzc3dvcmQgPT0gbnVsbCB8fCB0aGlzLnBhc3N3b3JkRm9ybS50d2ljZVBhc3N3b3JkID09IG51bGwpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfovpPlhaXkuI3lhYHorrjkuLrnqbrvvIEnKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnBhc3N3b3JkRm9ybS5uZXdQYXNzd29yZCAhPSB0aGlzLnBhc3N3b3JkRm9ybS50d2ljZVBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Lik5qyh5a+G56CB5LiN5LiA6Ie077yM6K+36YeN5paw6L6T5YWlJyk7CiAgICAgICAgdGhpcy5wYXNzd29yZEZvcm0ubmV3UGFzc3dvcmQgPSBudWxsOwogICAgICAgIHRoaXMucGFzc3dvcmRGb3JtLnR3aWNlUGFzc3dvcmQgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXIvZm9yZ2V0L3Bhc3N3b3JkJywgdGhpcy5wYXNzd29yZEZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZTQgPSBmYWxzZTsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5jb2RlID09PSAnMTExMScpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgdGhpcy5wYXNzd29yZEZvcm0gPSB7fTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+eZu+W9leWksei0pe+8geivt+iBlOezu+acjeWKoeWZqOeuoeeQhuWRmO+8gScpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIHRvUmVnaXN0ZXIoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmVnaXN0ZXInKTsKICAgIH0sCgogICAgdG9Ib21lKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsKICAgIH0sCgogICAgbG9naW4oKSB7CiAgICAgIGlmICh0eXBlb2YgdGhpcy5mb3JtLnVzZXJuYW1lID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgdGhpcy5mb3JtLnBhc3N3b3JkID09ICd1bmRlZmluZWQnIHx8IHRoaXMuZm9ybS51c2VybmFtZS5sZW5ndGggPT09IDAgfHwgdGhpcy5mb3JtLnBhc3N3b3JkLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjeWSjOWvhuegge+8gScsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybSk7CiAgICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlci9sb2dpbicsIHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3JvbGUnLCByZXMuZGF0YS5yb2xlKTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEudXNlcklkKSk7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5yb2xlID09ICd1c2VyJykgewogICAgICAgICAgICAgICAgLy8g5pmu6YCa55So5oi3CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnJvbGUgPT0gJ2FkbWluJykgewogICAgICAgICAgICAgICAgLy8g566h55CG5ZGYCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2FkbWluJyk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yb2xlID09ICdzaG9wJykgewogICAgICAgICAgICAgICAgLy8g5ZWG5a62CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Nob3AnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign55m75b2V5aSx6LSl77yB6ZSZ6K+v5Y6f5Zug77yaJyArIHJlcy5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIHJlZ2lzdGVyKCkgewogICAgICBpZiAodHlwZW9mIHRoaXMuZm9ybS51c2VybmFtZSA9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgdGhpcy5mb3JtLnBhc3N3b3JkID09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB0aGlzLmZvcm0ucmVwZWF0UGFzc3dvcmQgPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfnm7jlhbPkv6Hmga/kuI3og73kuLrnqbonLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5mb3JtLnVzZXJuYW1lLmxlbmd0aCA9PSAwIHx8IHRoaXMuZm9ybS5wYXNzd29yZC5sZW5ndGggPT0gMCB8fCB0aGlzLmZvcm0ucmVwZWF0UGFzc3dvcmQubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfnm7jlhbPkv6Hmga/kuI3og73kuLrnqbonLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5mb3JtLnBhc3N3b3JkICE9IHRoaXMuZm9ybS5yZXBlYXRQYXNzd29yZCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogJ+S4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtO+8gScsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyL3JlZ2lzdGVyJywgdGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAvLyDnlKjmiLflkI3ph43lpI0KICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAnMScpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywKICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5jb2RlID09ICcwJykgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnICsgJ+ivt+WJjeW+gOeZu+W9le+8gScsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfms6jlhozlpLHotKXvvIHplJnor6/ljp/lm6DvvJrmnI3liqHlmajlh7rnjrDpl67popjjgIInKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgY29uc3Qgc2luZ1VwQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpZ24tdXAtYnRuJyk7CiAgICBjb25zdCBzaW5nSW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2lnbi1pbi1idG4nKTsKICAgIGNvbnN0IGNvbnRhaW5lcjEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyMScpOwogICAgc2luZ1VwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICBjb250YWluZXIxLmNsYXNzTGlzdC5hZGQoJ3NpZ24tdXAtbW9kZScpOwogICAgfSk7CiAgICBzaW5nSW5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgIGNvbnRhaW5lcjEuY2xhc3NMaXN0LnJlbW92ZSgnc2lnbi11cC1tb2RlJyk7CiAgICB9KTsKICB9Cgp9Ow=="},{"version":3,"mappings":"AAoGA;AAEA;EACAA;IACA;MACAC,QADA;MAEAC;QACAC,cADA;QAEAC,iBAFA;QAGAC;MAHA,CAFA;MAOAC;IAPA;EAUA,CAZA;;EAaAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA,0CACA,qCADA,IAEA,uCAFA,EAEA;QACA;MACA,CAJA,MAIA;QACA;QACA;QACA;MACA,CAJA,MAIA;QACAC,QACAC,IADA,CACA,uBADA,EACA,iBADA,EAEAC,IAFA,CAEAC;UACA;YACA;cACAC,gBADA;cAEAC,eAFA;cAGAC;YAHA;YAKA;cACA;YACA,CAFA,EAEA,IAFA;UAGA,CATA,MASA;YACA;YACA;UACA,CAHA,MAGA;YACA;UACA;QACA,CAlBA,EAmBAC,KAnBA,CAmBAC;UACAC;QACA,CArBA;MAsBA;IACA,CArCA;;IAsCAC;MACA;IACA,CAxCA;;IAyCAC;MACA;IACA,CA3CA;;IA4CAC;MACA,IACA,6CACA,wCADA,IAEA,+BAFA,IAGA,+BAJA,EAKA;QACA;UACAR,qBADA;UAEAC,eAFA;UAGAC;QAHA;MAKA,CAXA,MAWA;QACAG;QACAT,QACAC,IADA,CACA,aADA,EACA,SADA,EAEAC,IAFA,CAEAC;UACA;YACA;cACAC,gBADA;cAEAC,eAFA;cAGAC;YAHA;YAKAO;YACAA;YACAC;YACA;cACA;gBACA;gBACA;cACA,CAHA,MAGA;gBACA;gBACA;cACA,CAHA,MAGA;gBACA;gBACA;cACA;YACA,CAXA,EAWA,IAXA;UAYA,CArBA,MAqBA;YACA;UACA;QACA,CA3BA,EA4BAP,KA5BA,CA4BAC;UACAC;QACA,CA9BA;MA+BA;IACA,CA1FA;;IA2FAM;MACA,IACA,4CACA,wCADA,IAEA,8CAHA,EAIA;QACA;UACAX,mBADA;UAEAC;QAFA;QAIA;MACA;;MACA,IACA,kCACA,8BADA,IAEA,oCAHA,EAIA;QACA;UACAD,mBADA;UAEAC;QAFA;QAIA;MACA;;MACA;QACA;UACAD,qBADA;UAEAC;QAFA;MAIA,CALA,MAKA;QACAL,QACAC,IADA,CACA,gBADA,EACA,SADA,EAEAC,IAFA,CAEAC;UACA;UACA;YACA;cACAC,gBADA;cAEAC;YAFA;UAIA,CALA,MAKA;YACA;cACAD,2BADA;cAEAC;YAFA;YAIA;UACA,CANA,MAMA;YACA;UACA;QACA,CAlBA,EAmBAE,KAnBA,CAmBAC;UACAC;QACA,CArBA;MAsBA;IACA;;EA/IA,CAbA;;EA8JAO;IACA;IACA;IACA;IAEAC;MACAC;IACA,CAFA;IAGAC;MACAD;IACA,CAFA;EAGA;;AAzKA","names":["data","form","passwordForm","username","newPassword","twicePassword","dialogFormVisible4","methods","passwordOut","changePassword","request","post","then","res","message","type","duration","catch","err","console","toRegister","toHome","login","sessionStorage","clearTimeout","register","mounted","singUpBtn","container1","singInBtn"],"sourceRoot":"src/views/login","sources":["Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"container1\">\r\n    <div class=\"form-warp\">\r\n      <form class=\"sign-in-form\">\r\n        <h2 class=\"logo\">\r\n          <a href=\"/home\" style=\"color: #6266f5;\">\r\n            在线商城系统\r\n          </a>\r\n        </h2>\r\n        <h2 class=\"form-title\">登录</h2>\r\n        <input v-model=\"form.username\" placeholder=\"用户名\" />\r\n        <input\r\n          v-model=\"form.password\"\r\n          type=\"password\"\r\n          placeholder=\"密码\"\r\n          autocomplete\r\n        />\r\n        <div class=\"submit-btn\" @click=\"login\">立即登录</div>\r\n        <div class=\"submit-btn\" @click=\"passwordOut\">忘记密码</div>\r\n\r\n      </form>\r\n      <!-- 修改密码 -->\r\n      <el-dialog\r\n          title=\"请填入相关信息\"\r\n          :visible.sync=\"dialogFormVisible4\"\r\n          append-to-body\r\n      >\r\n        <el-form :model=\"passwordForm\" label-width=\"140px\">\r\n          <el-form-item style=\"margin-bottom: 7px\" label=\"请输入用户名\">\r\n            <el-input\r\n                v-model=\"passwordForm.username\"\r\n                style=\"width: 300px\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"margin-bottom: 7px\" label=\"请输入新密码\">\r\n            <el-input\r\n                v-model=\"passwordForm.newPassword\"\r\n                prefix-icon=\"el-icon-key\"\r\n                style=\"width: 300px\"\r\n                show-password\r\n                type=\"password\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"margin-bottom: 7px\" label=\"请再次输入新密码\">\r\n            <el-input\r\n                v-model=\"passwordForm.twicePassword\"\r\n                prefix-icon=\"el-icon-key\"\r\n                style=\"width: 300px\"\r\n                show-password\r\n                type=\"password\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <input type=\"button\" width=\"50px\" value=\"取消\" @click=\"dialogFormVisible4 = false\"></input>\r\n        <input type=\"button\" width=\"50px\" value=\"确定\" @click=\"changePassword\"></input>\r\n\r\n      </el-dialog>\r\n      <form class=\"sign-up-form\">\r\n        <h2 class=\"logo\">\r\n          <a href=\"/home\" style=\"color: #6266f5;\">\r\n            在线商城系统\r\n          </a>\r\n        </h2>\r\n        <h2 class=\"form-title\">注册</h2>\r\n        <input v-model=\"form.username\" placeholder=\"用户名\" />\r\n        <input\r\n          v-model=\"form.password\"\r\n          type=\"password\"\r\n          placeholder=\"请设置密码\"\r\n          autocomplete\r\n        />\r\n        <input\r\n          v-model=\"form.repeatPassword\"\r\n          type=\"password\"\r\n          placeholder=\"请再次密码\"\r\n          autocomplete\r\n        />\r\n        <div class=\"submit-btn\" @click=\"register\">立即注册</div>\r\n      </form>\r\n    </div>\r\n    <div class=\"desc-warp\">\r\n      <div class=\"desc-warp-item sign-up-desc\">\r\n        <div class=\"content\">\r\n          <button id=\"sign-up-btn\">注册</button>\r\n        </div>\r\n        <!-- <img src=\"./img/log.svg\" alt=\"\" /> -->\r\n        <img src=\"../../assets/upload/left.svg\" alt=\"\" />\r\n      </div>\r\n      <div class=\"desc-warp-item sign-in-desc\">\r\n        <div class=\"content\">\r\n          <button id=\"sign-in-btn\">登录</button>\r\n        </div>\r\n        <img style=\"width: 80%\" src=\"../../assets/upload/right.svg\" alt=\"\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '../../utils/request'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {},\r\n      passwordForm: {\r\n        username: null,\r\n        newPassword: null,\r\n        twicePassword: null\r\n      },\r\n      dialogFormVisible4: false\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    passwordOut() {\r\n      this.dialogFormVisible4 = true\r\n    },\r\n    changePassword() {\r\n      if (this.passwordForm.username == null ||\r\n          this.passwordForm.newPassword == null ||\r\n          this.passwordForm.twicePassword == null) {\r\n        this.$message.error('输入不允许为空！')\r\n      } else if (this.passwordForm.newPassword != this.passwordForm.twicePassword) {\r\n        this.$message.error('两次密码不一致，请重新输入')\r\n        this.passwordForm.newPassword = null\r\n        this.passwordForm.twicePassword = null\r\n      } else {\r\n        request\r\n            .post('/user/forget/password', this.passwordForm)\r\n            .then((res) => {\r\n              if (res.code === '0') {\r\n                this.$message({\r\n                  message: res.msg,\r\n                  type: 'success',\r\n                  duration: 1000\r\n                })\r\n                this.timer = setTimeout(() => {\r\n                  this.dialogFormVisible4 = false\r\n                }, 1000)\r\n              } else if (res.code === '1111') {\r\n                this.$message.error(res.msg)\r\n                this.passwordForm = {}\r\n              } else {\r\n                this.$message.error('登录失败！请联系服务器管理员！')\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.log(err)\r\n            })\r\n      }\r\n    },\r\n    toRegister() {\r\n      this.$router.push('/register')\r\n    },\r\n    toHome() {\r\n      this.$router.push('/home')\r\n    },\r\n    login() {\r\n      if (\r\n        typeof this.form.username === 'undefined' ||\r\n        typeof this.form.password == 'undefined' ||\r\n        this.form.username.length === 0 ||\r\n        this.form.password.length === 0\r\n      ) {\r\n        this.$message({\r\n          message: '请输入用户名和密码！',\r\n          type: 'warning',\r\n          duration: 2000\r\n        })\r\n      } else {\r\n        console.log(this.form)\r\n        request\r\n          .post('/user/login', this.form)\r\n          .then((res) => {\r\n            if (res.code === '0') {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'success',\r\n                duration: 1000\r\n              })\r\n              sessionStorage.setItem('role', res.data.role)\r\n              sessionStorage.setItem('userId', JSON.stringify(res.data.userId))\r\n              clearTimeout(this.timer)\r\n              this.timer = setTimeout(() => {\r\n                if (res.data.role == 'user') {\r\n                  // 普通用户\r\n                  this.$router.push('/home')\r\n                } else if (res.data.role == 'admin') {\r\n                  // 管理员\r\n                  this.$router.push('/admin')\r\n                } else if (res.data.role == 'shop') {\r\n                  // 商家\r\n                  this.$router.push('/shop')\r\n                }\r\n              }, 1000)\r\n            } else {\r\n              this.$message.error('登录失败！错误原因：' + res.msg)\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n      }\r\n    },\r\n    register() {\r\n      if (\r\n        typeof this.form.username == 'undefined' ||\r\n        typeof this.form.password == 'undefined' ||\r\n        typeof this.form.repeatPassword == 'undefined'\r\n      ) {\r\n        this.$message({\r\n          message: '相关信息不能为空',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (\r\n        this.form.username.length == 0 ||\r\n        this.form.password.length == 0 ||\r\n        this.form.repeatPassword.length == 0\r\n      ) {\r\n        this.$message({\r\n          message: '相关信息不能为空',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (this.form.password != this.form.repeatPassword) {\r\n        this.$message({\r\n          message: '两次输入密码不一致！',\r\n          type: 'warning'\r\n        })\r\n      } else {\r\n        request\r\n          .post('/user/register', this.form)\r\n          .then((res) => {\r\n            // 用户名重复\r\n            if (res.code == '1') {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'warning'\r\n              })\r\n            } else if (res.code == '0') {\r\n              this.$message({\r\n                message: res.msg + '请前往登录！',\r\n                type: 'success'\r\n              })\r\n              this.$router.push('/login')\r\n            } else {\r\n              this.$message.error('注册失败！错误原因：服务器出现问题。')\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const singUpBtn = document.querySelector('#sign-up-btn')\r\n    const singInBtn = document.querySelector('#sign-in-btn')\r\n    const container1 = document.querySelector('.container1')\r\n\r\n    singUpBtn.addEventListener('click', () => {\r\n      container1.classList.add('sign-up-mode')\r\n    })\r\n    singInBtn.addEventListener('click', () => {\r\n      container1.classList.remove('sign-up-mode')\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n  color: #333;\r\n}\r\n\r\n.container1 {\r\n  position: relative;\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n.container1::before {\r\n  content: ' ';\r\n  position: absolute;\r\n  width: 2000px;\r\n  height: 2000px;\r\n  border-radius: 50%;\r\n  background-image: linear-gradient(-45deg, #6266f5 0%, #04befe 100%);\r\n  transition: 1.8s ease-in-out;\r\n  z-index: 6;\r\n  top: -10%;\r\n  right: 48%;\r\n  transform: translateY(-50%);\r\n}\r\n.container1.sign-up-mode::before {\r\n  transform: translate(100%, -50%);\r\n}\r\n\r\n.form-warp {\r\n  width: 50%;\r\n  position: absolute;\r\n  z-index: 5;\r\n  left: 75%;\r\n  top: 50%;\r\n  z-index: 5;\r\n  transform: translate(-50%, -50%);\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  transition: 1s 0.7s ease-in-out;\r\n}\r\n.form-warp form {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  /* 将两个 form 布局在 grid 同一位置 */\r\n  grid-row: 1 / 2;\r\n  grid-column: 1 / 2;\r\n  transition: all 0.2s 0.7s;\r\n  opacity: 1;\r\n  z-index: 4;\r\n}\r\n.form-title {\r\n  color: #6266f5;\r\n}\r\n.form-warp .sign-up-form {\r\n  opacity: 0;\r\n  z-index: 3;\r\n}\r\n.container1.sign-up-mode .form-warp {\r\n  left: 25%;\r\n}\r\n.container1.sign-up-mode .sign-in-form {\r\n  opacity: 0;\r\n  z-index: 3;\r\n}\r\n.container1.sign-up-mode .sign-up-form {\r\n  opacity: 1;\r\n  z-index: 4;\r\n}\r\ninput,\r\n.submit-btn {\r\n  min-width: 300px;\r\n  outline: none;\r\n  padding: 12px 30px;\r\n  line-height: 1;\r\n  font-size: 16px;\r\n  border-radius: 60px;\r\n  color: #333;\r\n  background-color: #6267f513;\r\n  border: none;\r\n  transition: all 0.2s;\r\n}\r\ninput::placeholder {\r\n  color: #cccc;\r\n}\r\n\r\n.submit-btn:hover {\r\n  box-shadow: rgba(0, 0, 0, 0.15) 0 3px 9px 0;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.submit-btn {\r\n  background-color: #6266f5;\r\n  color: #fff;\r\n  text-align: center;\r\n  min-width: 150px;\r\n  font-size: initial;\r\n  font-weight: bold;\r\n  letter-spacing: 1.5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.desc-warp {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n}\r\n.desc-warp-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  justify-content: space-around;\r\n  text-align: center;\r\n  text-align: center;\r\n  padding: 3rem 17% 2rem 12%;\r\n  z-index: 6;\r\n}\r\n/* 事件穿透 BEGIN */\r\n.sign-in-desc {\r\n  pointer-events: none;\r\n}\r\n.sign-up-mode .sign-in-desc {\r\n  pointer-events: all;\r\n}\r\n.sign-up-mode .sign-up-desc {\r\n  pointer-events: none;\r\n}\r\n/* 事件穿透 END */\r\n.content {\r\n  width: 100%;\r\n  transition: transform 0.9s ease-in-out;\r\n  transition-delay: 0.6s;\r\n}\r\n.sign-in-desc img,\r\n.sign-in-desc .content {\r\n  transform: translateX(800px);\r\n}\r\n.sign-up-mode .sign-in-desc img,\r\n.sign-up-mode .sign-in-desc .content {\r\n  transform: translateX(0);\r\n}\r\n\r\n.sign-up-mode .sign-up-desc img,\r\n.sign-up-mode .sign-up-desc .content {\r\n  transform: translateX(-800px);\r\n}\r\n\r\nbutton {\r\n  outline: none;\r\n  padding: 6px 8px;\r\n  min-width: 100px;\r\n  text-align: center;\r\n  border-radius: 30px;\r\n  border: 2px solid #fff;\r\n  background: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\nbutton:active {\r\n  background: rgba(255, 255, 255, 0.1);\r\n}\r\nimg {\r\n  width: 100%;\r\n  display: block;\r\n  transition: transform 0.9s ease-in-out;\r\n  transition-delay: 0.5s;\r\n}\r\n\r\n/* 响应式 */\r\n@media screen and (max-width: 870px) {\r\n  .container1::before {\r\n    width: 1500px;\r\n    height: 1500px;\r\n    transform: translateX(-50%);\r\n    left: 30%;\r\n    bottom: 68%;\r\n    right: initial;\r\n    top: initial;\r\n    transition: 2s ease-in-out;\r\n  }\r\n  .container1.sign-up-mode::before {\r\n    transform: translate(-50%, 100%);\r\n    bottom: 32%;\r\n    right: initial;\r\n  }\r\n  .form-warp {\r\n    width: 100%;\r\n    top: 75%;\r\n    left: 50%;\r\n    transform: translate(-50%, -100%);\r\n    transition: 1s 0.8s ease-in-out;\r\n  }\r\n  .container1.sign-up-mode .form-warp {\r\n    top: 25%;\r\n    left: 50%;\r\n    transform: translate(-50%, 0);\r\n  }\r\n  img {\r\n    width: 200px;\r\n    transition: transform 0.9s ease-in-out;\r\n    transition-delay: 0.7s;\r\n  }\r\n  .desc-warp {\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: 1fr 2fr 1fr;\r\n  }\r\n  .desc-warp-item {\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    padding: 2.5rem 8%;\r\n    grid-column: 1 / 2;\r\n  }\r\n  .sign-in-desc {\r\n    grid-row: 3 / 4;\r\n  }\r\n\r\n  .sign-in-desc img,\r\n  .sign-in-desc .content {\r\n    transform: translateY(800px);\r\n  }\r\n\r\n  .sign-up-mode .sign-in-desc img,\r\n  .sign-up-mode .sign-in-desc .content {\r\n    transform: translateY(0);\r\n  }\r\n\r\n  .sign-up-mode .sign-up-desc img,\r\n  .sign-up-mode .sign-up-desc .content {\r\n    transform: translateY(-800px);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 570px) {\r\n  .container1::before {\r\n    bottom: 72%;\r\n    left: 50%;\r\n  }\r\n  img {\r\n    display: none;\r\n  }\r\n}\r\n.logo {\r\n  border-bottom: 2px solid #fff;\r\n  cursor: pointer;\r\n  color: #6266f5;\r\n}\r\n.logo:hover {\r\n  border-bottom: 2px solid #6266f5;\r\n}\r\n</style>"]}]}