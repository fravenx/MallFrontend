{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/pages/admin/users/UserComposition.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/pages/admin/users/UserComposition.vue","mtime":1677682822546},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/babel.config.js","mtime":1677682822494},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAnLi4vLi4vLi4vdXRpbHMvcmVxdWVzdCc7Cgpjb25zdCBTdWJIZWFkZXIgPSAoKSA9PiBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvU3ViSGVhZGVyLnZ1ZScpOwoKY29uc3QgQ29udGFpbmVyID0gKCkgPT4gaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL0NvbnRhaW5lci52dWUnKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTdWJIZWFkZXIsCiAgICBDb250YWluZXIKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YTogW3sKICAgICAgICB2YWx1ZTogMSwKICAgICAgICBuYW1lOiAn566h55CG5ZGYJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDUsCiAgICAgICAgbmFtZTogJ+WVhuWuticKICAgICAgfSwgewogICAgICAgIHZhbHVlOiA4LAogICAgICAgIG5hbWU6ICflrqLmiLcnCiAgICAgIH1dCiAgICB9OwogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICByZXF1ZXN0LmdldCgnL3VzZXIvcm9sZS9jb3VudCcpLnRoZW4ocmVzID0+IHsKICAgICAgdGhpcy5kYXRhWzBdLnZhbHVlID0gcmVzLmFkbWluOwogICAgICB0aGlzLmRhdGFbMV0udmFsdWUgPSByZXMuc2hvcDsKICAgICAgdGhpcy5kYXRhWzJdLnZhbHVlID0gcmVzLnVzZXI7CiAgICB9KS50aGVuKCgpID0+IHsKICAgICAgdGhpcy5nZXROb2RlKCk7CiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBnZXROb2RlKCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBsZXQgcmVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215Q2hhcnQxJyk7CiAgICAgICAgdGhpcy5kcmF3Q2hhcnQocmVzKTsKICAgICAgfSwgMTAwKTsKICAgIH0sCgogICAgZHJhd0NoYXJ0KHZhbHVlKSB7CiAgICAgIC8v54S25ZCO5byC5q2l5omn6KGMZWNoYXJ0c+eahOWIneWni+WMluWHveaVsAogICAgICBsZXQgbXlDaGFydDEgPSB0aGlzLiRlY2hhcnRzLmluaXQodmFsdWUpOyAvLyBsZXQgbXlDaGFydDIgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215Q2hhcnQyJykpCiAgICAgIC8vIOaMh+WumuWbvuihqOeahOmFjee9rumhueWSjOaVsOaNrgoKICAgICAgbGV0IG9wdGlvbjEgPSB7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfnlKjmiLfop5LoibLnu4TmiJAnLAogICAgICAgICAgc3VidGV4dDogJ0Zha2UgRGF0YScsCiAgICAgICAgICBsZWZ0OiAnY2VudGVyJwogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nCiAgICAgICAgfSwKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIG9yaWVudDogJ3ZlcnRpY2FsJywKICAgICAgICAgIGxlZnQ6ICdsZWZ0JwogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogJ0FjY2VzcyBGcm9tJywKICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgcmFkaXVzOiAnNTAlJywKICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YSwKICAgICAgICAgIGVtcGhhc2lzOiB7CiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgIHNoYWRvd0JsdXI6IDEwLAogICAgICAgICAgICAgIHNoYWRvd09mZnNldFg6IDAsCiAgICAgICAgICAgICAgc2hhZG93Q29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNSknCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9OyAvLyDkvb/nlKjliJrmjIflrprnmoTphY3nva7pobnlkozmlbDmja7mmL7npLrlm77ooajjgIIKCiAgICAgIG15Q2hhcnQxLnNldE9wdGlvbihvcHRpb24xKTsgLy8gbXlDaGFydDIuc2V0T3B0aW9uKG9wdGlvbjIpCiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AAeA;;AACA;;AACA;;AAEA;EACAA;IACAC,SADA;IAEAC;EAFA,CADA;;EAKAC;IACA;MACAA,OACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA;IADA;EAOA,CAbA;;EAcAC;IACAC,QACAC,GADA,CACA,kBADA,EAEAC,IAFA,CAEAC;MACA;MACA;MACA;IACA,CANA,EAOAD,IAPA,CAOA;MACA;IACA,CATA;EAUA,CAzBA;;EA0BAE;IACAC;MACAC;QACA;QACA;MACA,CAHA,EAGA,GAHA;IAIA,CANA;;IAOAC;MACA;MACA,yCAFA,CAGA;MACA;;MACA;QACAC;UACAC,cADA;UAEAC,oBAFA;UAGAC;QAHA,CADA;QAMAC;UACAC;QADA,CANA;QASAC;UACAC,kBADA;UAEAJ;QAFA,CATA;QAaAK,SACA;UACAlB,mBADA;UAEAmB,WAFA;UAGAC,aAHA;UAIAtB,eAJA;UAKAuB;YACAC;cACAC,cADA;cAEAC,gBAFA;cAGAC;YAHA;UADA;QALA,CADA;MAbA,EALA,CAkCA;;MACAC,4BAnCA,CAoCA;IACA;;EA5CA;AA1BA","names":["components","SubHeader","Container","data","value","name","created","request","get","then","res","methods","getNode","setTimeout","drawChart","title","text","subtext","left","tooltip","trigger","legend","orient","series","type","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","myChart1"],"sourceRoot":"src/pages/admin/users","sources":["UserComposition.vue"],"sourcesContent":["<template>\r\n  <Container>\r\n    <template slot>\r\n      <SubHeader>\r\n        <template v-slot>用户组成</template>\r\n      </SubHeader>\r\n      <div\r\n        id=\"myChart1\"\r\n        ref=\"myChart1\"\r\n        style=\"width: 700px; height: 400px; margin-top: 20px\"\r\n      ></div>\r\n    </template>\r\n  </Container>\r\n</template>\r\n<script>\r\nimport request from '../../../utils/request'\r\nconst SubHeader = () => import('../../components/SubHeader.vue')\r\nconst Container = () => import('../../components/Container.vue')\r\n\r\nexport default {\r\n  components: {\r\n    SubHeader,\r\n    Container\r\n  },\r\n  data() {\r\n    return {\r\n      data: [\r\n        { value: 1, name: '管理员' },\r\n        { value: 5, name: '商家' },\r\n        { value: 8, name: '客户' }\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    request\r\n      .get('/user/role/count')\r\n      .then((res) => {\r\n        this.data[0].value = res.admin\r\n        this.data[1].value = res.shop\r\n        this.data[2].value = res.user\r\n      })\r\n      .then(() => {\r\n        this.getNode()\r\n      })\r\n  },\r\n  methods: {\r\n    getNode() {\r\n      setTimeout(() => {\r\n        let res = document.getElementById('myChart1')\r\n        this.drawChart(res)\r\n      }, 100)\r\n    },\r\n    drawChart(value) {\r\n      //然后异步执行echarts的初始化函数\r\n      let myChart1 = this.$echarts.init(value)\r\n      // let myChart2 = this.$echarts.init(document.getElementById('myChart2'))\r\n      // 指定图表的配置项和数据\r\n      let option1 = {\r\n        title: {\r\n          text: '用户角色组成',\r\n          subtext: 'Fake Data',\r\n          left: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          left: 'left'\r\n        },\r\n        series: [\r\n          {\r\n            name: 'Access From',\r\n            type: 'pie',\r\n            radius: '50%',\r\n            data: this.data,\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      myChart1.setOption(option1)\r\n      // myChart2.setOption(option2)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}