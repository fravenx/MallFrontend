{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/pages/shop/sold_data/Data.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/pages/shop/sold_data/Data.vue","mtime":1677682822547},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/babel.config.js","mtime":1677682822494},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAnLi4vLi4vLi4vdXRpbHMvcmVxdWVzdCc7Cgpjb25zdCBTdWJIZWFkZXIgPSAoKSA9PiBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvU3ViSGVhZGVyLnZ1ZScpOwoKY29uc3QgQ29udGFpbmVyID0gKCkgPT4gaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL0NvbnRhaW5lci52dWUnKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTdWJIZWFkZXIsCiAgICBDb250YWluZXIKICB9LAogIG1ldGhvZHM6IHsKICAgIGRyYXdDaGFydCgpIHsKICAgICAgbGV0IG15Q2hhcnQxID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteUNoYXJ0MScpKTsKICAgICAgbGV0IG15Q2hhcnQyID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteUNoYXJ0MicpKTsgLy8g5oyH5a6a5Zu+6KGo55qE6YWN572u6aG55ZKM5pWw5o2uCgogICAgICBsZXQgb3B0aW9uMSA9IHsKICAgICAgICBjb2xvcjogJyM2MWEwYTgnLAogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgdGV4dDogJ+mUgOWUrumHj+e7n+iuoScsCiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgLy/kuLvmoIfpopjmlofmnKzmoLflvI97ImZvbnRTaXplIjogMTgsImZvbnRXZWlnaHQiOiAiYm9sZGVyIiwiY29sb3IiOiAiIzMzMyJ9CiAgICAgICAgICAgIGZvbnRTaXplOiAxOCwKICAgICAgICAgICAgZm9udFN0eWxlOiAnbm9ybWFsJywKICAgICAgICAgICAgZm9udFdlaWdodDogJ25vcm1hbCcKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICdheGlzJywKICAgICAgICAgIGF4aXNQb2ludGVyOiB7CiAgICAgICAgICAgIHR5cGU6ICdzaGFkb3cnCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBncmlkOiB7CiAgICAgICAgICBsZWZ0OiAnMyUnLAogICAgICAgICAgcmlnaHQ6ICc2JScsCiAgICAgICAgICBib3R0b206ICc1JScsCiAgICAgICAgICBjb250YWluTGFiZWw6IHRydWUKICAgICAgICB9LAogICAgICAgIHhBeGlzOiBbewogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgIG5hbWU6ICfllYblk4EnLAogICAgICAgICAgZGF0YTogdGhpcy54QXhpc0RhdGEsCiAgICAgICAgICBheGlzVGljazogewogICAgICAgICAgICBhbGlnbldpdGhMYWJlbDogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICByb3RhdGU6IDMwCiAgICAgICAgICB9CiAgICAgICAgfV0sCiAgICAgICAgeUF4aXM6IFt7CiAgICAgICAgICB0eXBlOiAndmFsdWUnLAogICAgICAgICAgbmFtZTogJ+aVsOmHj++8iOS7tu+8iScKICAgICAgICB9XSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICBuYW1lOiAn5ZWG5ZOB5bey5ZSu6YePJywKICAgICAgICAgIHR5cGU6ICdiYXInLAogICAgICAgICAgYmFyV2lkdGg6ICc2MCUnLAogICAgICAgICAgZGF0YTogdGhpcy5zZXJpZXNEYXRhCiAgICAgICAgfV0KICAgICAgfTsKICAgICAgbGV0IG9wdGlvbjIgPSB7CiAgICAgICAgY29sb3I6ICcjZDQ4MjY1JywKICAgICAgICB0aXRsZTogewogICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgIHRleHQ6ICfplIDllK7pop3nu5/orqEnLAogICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgIC8v5Li75qCH6aKY5paH5pys5qC35byPeyJmb250U2l6ZSI6IDE4LCJmb250V2VpZ2h0IjogImJvbGRlciIsImNvbG9yIjogIiMzMzMifQogICAgICAgICAgICBmb250U2l6ZTogMTgsCiAgICAgICAgICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsCiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycsCiAgICAgICAgICBheGlzUG9pbnRlcjogewogICAgICAgICAgICB0eXBlOiAnc2hhZG93JwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogJzMlJywKICAgICAgICAgIHJpZ2h0OiAnNiUnLAogICAgICAgICAgYm90dG9tOiAnNSUnLAogICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogW3sKICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICBuYW1lOiAn5ZWG5ZOBJywKICAgICAgICAgIGRhdGE6IHRoaXMueEF4aXNEYXRhMiwKICAgICAgICAgIGF4aXNUaWNrOiB7CiAgICAgICAgICAgIGFsaWduV2l0aExhYmVsOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICAgIHJvdGF0ZTogMzAKICAgICAgICAgIH0KICAgICAgICB9XSwKICAgICAgICB5QXhpczogW3sKICAgICAgICAgIHR5cGU6ICd2YWx1ZScsCiAgICAgICAgICBuYW1lOiAn6JCl5Lia6aKd77yI5YWD77yJJwogICAgICAgIH1dLAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIG5hbWU6ICfllYblk4HokKXkuJrpop0nLAogICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICBiYXJXaWR0aDogJzYwJScsCiAgICAgICAgICBkYXRhOiB0aGlzLnNlcmllc0RhdGEyCiAgICAgICAgfV0KICAgICAgfTsgLy8g5L2/55So5Yia5oyH5a6a55qE6YWN572u6aG55ZKM5pWw5o2u5pi+56S65Zu+6KGo44CCCgogICAgICBteUNoYXJ0MS5zZXRPcHRpb24ob3B0aW9uMSk7CiAgICAgIG15Q2hhcnQyLnNldE9wdGlvbihvcHRpb24yKTsKICAgIH0sCgogICAgYXN5bmMgZ2V0U2hvcElkKCkgewogICAgICBsZXQgdUlkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QuZ2V0KCcvdXNlci9zaG9wX2lkLycgKyB1SWQpOwogICAgICByZXR1cm4gcmVzOwogICAgfSwKCiAgICByZWZyZXNoKCkgewogICAgICB0aGlzLmxvYWQoKTsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogJ+WIt+aWsOaIkOWKn++8gScsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgIH0pOwogICAgfSwKCiAgICBsb2FkKCkgewogICAgICB0aGlzLmdldFNob3BJZCgpLnRoZW4ocmVzID0+IHsKICAgICAgICByZXF1ZXN0LmdldCgnL3Byb2R1Y3Qvc2hvcF9pZC8nICsgcmVzKS50aGVuKHJlczIgPT4gewogICAgICAgICAgdGhpcy54QXhpc0RhdGEgPSBbXTsKICAgICAgICAgIHRoaXMuc2VyaWVzRHRhID0gW107CiAgICAgICAgICByZXMyLmRhdGEuZm9yRWFjaChwID0+IHsKICAgICAgICAgICAgdGhpcy54QXhpc0RhdGEucHVzaChwLnByb2R1Y3ROYW1lKTsKICAgICAgICAgICAgdGhpcy5zZXJpZXNEYXRhLnB1c2gocC5zb2xkKTsKICAgICAgICAgICAgdGhpcy54QXhpc0RhdGEyLnB1c2gocC5wcm9kdWN0TmFtZSk7CiAgICAgICAgICAgIHRoaXMuc2VyaWVzRGF0YTIucHVzaCgocC5zb2xkICogcC5wcm9kdWN0UHJpY2UgKiBwLmRpc2NvdW50KS50b0ZpeGVkKDIpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG9wSWQ6IG51bGwsCiAgICAgIHhBeGlzRGF0YTogW10sCiAgICAgIHNlcmllc0RhdGE6IFtdLAogICAgICB4QXhpc0RhdGEyOiBbXSwKICAgICAgc2VyaWVzRGF0YTI6IFtdCiAgICB9OwogIH0sCgogIGNyZWF0ZWQoKSB7fSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZCgpOwogIH0KCn07"},{"version":3,"mappings":"AAqBA;;AACA;;AACA;;AAEA;EACAA;IACAC,SADA;IAEAC;EAFA,CADA;EAKAC;IACAC;MACA;MACA,uEAFA,CAGA;;MACA;QACAC,gBADA;QAEAC;UACAC,UADA;UAEAC,aAFA;UAGAC;YACA;YACAC,YAFA;YAGAC,mBAHA;YAIAC;UAJA;QAHA,CAFA;QAYAC;UACAC,eADA;UAEAC;YACAC;UADA;QAFA,CAZA;QAkBAC;UACAC,UADA;UAEAC,WAFA;UAGAC,YAHA;UAIAC;QAJA,CAlBA;QAwBAC,QACA;UACAN,gBADA;UAEAO,UAFA;UAGAC,oBAHA;UAIAC;YACAC;UADA,CAJA;UAOAC;YACAC;UADA;QAPA,CADA,CAxBA;QAqCAC,QACA;UACAb,aADA;UAEAO;QAFA,CADA,CArCA;QA2CAO,SACA;UACAP,aADA;UAEAP,WAFA;UAGAe,eAHA;UAIAP;QAJA,CADA;MA3CA;MAoDA;QACAnB,gBADA;QAEAC;UACAC,UADA;UAEAC,aAFA;UAGAC;YACA;YACAC,YAFA;YAGAC,mBAHA;YAIAC;UAJA;QAHA,CAFA;QAYAC;UACAC,eADA;UAEAC;YACAC;UADA;QAFA,CAZA;QAkBAC;UACAC,UADA;UAEAC,WAFA;UAGAC,YAHA;UAIAC;QAJA,CAlBA;QAwBAC,QACA;UACAN,gBADA;UAEAO,UAFA;UAGAC,qBAHA;UAIAC;YACAC;UADA,CAJA;UAOAC;YACAC;UADA;QAPA,CADA,CAxBA;QAqCAC,QACA;UACAb,aADA;UAEAO;QAFA,CADA,CArCA;QA2CAO,SACA;UACAP,aADA;UAEAP,WAFA;UAGAe,eAHA;UAIAP;QAJA,CADA;MA3CA,EAxDA,CA4GA;;MACAQ;MACAC;IACA,CAhHA;;IAiHA;MACA;MACA;MACA;IACA,CArHA;;IAsHAC;MACA;MACA;QACAC,gBADA;QAEAnB,eAFA;QAGAoB;MAHA;IAKA,CA7HA;;IA8HAC;MACA;QACAC,QACAC,GADA,CACA,yBADA,EAEAC,IAFA,CAEAC;UACA;UACA;UACAA;YACA;YACA;YACA;YACA,sBACA,iDADA;UAGA,CAPA;QAQA,CAbA,EAcAD,IAdA,CAcA;UACA;QACA,CAhBA;MAiBA,CAlBA;IAmBA;;EAlJA,CALA;;EAyJAhB;IACA;MACAkB,YADA;MAEAC,aAFA;MAGAC,cAHA;MAIAC,cAJA;MAKAC;IALA;EAOA,CAjKA;;EAkKAC,YAlKA;;EAmKAC;IACA;EACA;;AArKA","names":["components","SubHeader","Container","methods","drawChart","color","title","show","text","textStyle","fontSize","fontStyle","fontWeight","tooltip","trigger","axisPointer","type","grid","left","right","bottom","containLabel","xAxis","name","data","axisTick","alignWithLabel","axisLabel","rotate","yAxis","series","barWidth","myChart1","myChart2","refresh","message","duration","load","request","get","then","res2","shopId","xAxisData","seriesData","xAxisData2","seriesData2","created","mounted"],"sourceRoot":"src/pages/shop/sold_data","sources":["Data.vue"],"sourcesContent":["<template>\r\n  <Container>\r\n    <template v-slot>\r\n      <SubHeader>\r\n        <template v-slot>商品销售情况数据统计</template>\r\n      </SubHeader>\r\n\r\n      <!-- <el-button\r\n      type=\"primary\"\r\n      style=\"margin-left: 10px\"\r\n      size=\"small\"\r\n      @click=\"refresh\"\r\n      >刷新</el-button\r\n    > -->\r\n      <div id=\"myChart1\" style=\"width: 80%; height: 400px\"></div>\r\n      <div id=\"myChart2\" style=\"width: 80%; height: 400px\"></div>\r\n    </template>\r\n  </Container>\r\n</template>\r\n\r\n<script>\r\nimport request from '../../../utils/request'\r\nconst SubHeader = () => import('../../components/SubHeader.vue')\r\nconst Container = () => import('../../components/Container.vue')\r\n\r\nexport default {\r\n  components: {\r\n    SubHeader,\r\n    Container\r\n  },\r\n  methods: {\r\n    drawChart() {\r\n      let myChart1 = this.$echarts.init(document.getElementById('myChart1'))\r\n      let myChart2 = this.$echarts.init(document.getElementById('myChart2'))\r\n      // 指定图表的配置项和数据\r\n      let option1 = {\r\n        color: '#61a0a8',\r\n        title: {\r\n          show: true,\r\n          text: '销售量统计',\r\n          textStyle: {\r\n            //主标题文本样式{\"fontSize\": 18,\"fontWeight\": \"bolder\",\"color\": \"#333\"}\r\n            fontSize: 18,\r\n            fontStyle: 'normal',\r\n            fontWeight: 'normal'\r\n          }\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '6%',\r\n          bottom: '5%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            name: '商品',\r\n            data: this.xAxisData,\r\n            axisTick: {\r\n              alignWithLabel: true\r\n            },\r\n            axisLabel: {\r\n              rotate: 30\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            name: '数量（件）'\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '商品已售量',\r\n            type: 'bar',\r\n            barWidth: '60%',\r\n            data: this.seriesData\r\n          }\r\n        ]\r\n      }\r\n      let option2 = {\r\n        color: '#d48265',\r\n        title: {\r\n          show: true,\r\n          text: '销售额统计',\r\n          textStyle: {\r\n            //主标题文本样式{\"fontSize\": 18,\"fontWeight\": \"bolder\",\"color\": \"#333\"}\r\n            fontSize: 18,\r\n            fontStyle: 'normal',\r\n            fontWeight: 'normal'\r\n          }\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '6%',\r\n          bottom: '5%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            name: '商品',\r\n            data: this.xAxisData2,\r\n            axisTick: {\r\n              alignWithLabel: true\r\n            },\r\n            axisLabel: {\r\n              rotate: 30\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            name: '营业额（元）'\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '商品营业额',\r\n            type: 'bar',\r\n            barWidth: '60%',\r\n            data: this.seriesData2\r\n          }\r\n        ]\r\n      }\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      myChart1.setOption(option1)\r\n      myChart2.setOption(option2)\r\n    },\r\n    async getShopId() {\r\n      let uId = sessionStorage.getItem('userId')\r\n      const res = await request.get('/user/shop_id/' + uId)\r\n      return res\r\n    },\r\n    refresh() {\r\n      this.load()\r\n      this.$message({\r\n        message: '刷新成功！',\r\n        type: 'success',\r\n        duration: 1000\r\n      })\r\n    },\r\n    load() {\r\n      this.getShopId().then((res) => {\r\n        request\r\n          .get('/product/shop_id/' + res)\r\n          .then((res2) => {\r\n            this.xAxisData = []\r\n            this.seriesDta = []\r\n            res2.data.forEach((p) => {\r\n              this.xAxisData.push(p.productName)\r\n              this.seriesData.push(p.sold)\r\n              this.xAxisData2.push(p.productName)\r\n              this.seriesData2.push(\r\n                (p.sold * p.productPrice * p.discount).toFixed(2)\r\n              )\r\n            })\r\n          })\r\n          .then(() => {\r\n            this.drawChart()\r\n          })\r\n      })\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      shopId: null,\r\n      xAxisData: [],\r\n      seriesData: [],\r\n      xAxisData2: [],\r\n      seriesData2: []\r\n    }\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.load()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#myChart1 {\r\n  margin-bottom: 20px;\r\n}\r\n</style>"]}]}