{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/search/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/search/Search.vue","mtime":1677682822551},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/babel.config.js","mtime":1677682822494},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoOiAnJywKICAgICAgcHJvZHVjdHM6IFtdCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBsZXQga2V5ID0gdGhpcy4kcm91dGUucXVlcnkua2V5OwogICAgdGhpcy5zZWFyY2ggPSBrZXk7CiAgICB0aGlzLnNlbmRTZWFyY2goa2V5KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBzZW5kU2VhcmNoKGtleSkgewogICAgICByZXF1ZXN0LmdldCgnL3Byb2R1Y3Qvc2VhcmNoJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAga2V5OiBrZXkKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnByb2R1Y3RzID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKCiAgICBzZWFyY2hCdG4oKSB7CiAgICAgIHRoaXMuc2VuZFNlYXJjaCh0aGlzLnNlYXJjaCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3NlYXJjaCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGtleTogdGhpcy5zZWFyY2gKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICB0b0RldGFpbHMoaWQpIHsKICAgICAgLy8g54K55Ye7IFByb2R1Y3RJdGVtIOe7hOS7tu+8jOmAmui/h+i3r+eUseS8oOmAkuWVhuWTgWlk57uZRHRhaWxz57uE5Lu277yM5pyf6Ze05Y+R6LW36K+35rGC44CCCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2RldGFpbHMnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AAiCA;AACA;EACAA;IACA;MACAC,UADA;MAEAC;IAFA;EAIA,CANA;;EAOAC;IACA;IACA;IACA;EACA,CAXA;;EAYAC;IACAC;MACAC,QACAC,GADA,CACA,iBADA,EACA;QACAC;UACAC;QADA;MADA,CADA,EAMAC,IANA,CAMAC;QACA;MACA,CARA;IASA,CAXA;;IAYAC;MACA;MACA;QACAC,eADA;QAEAC;UACAL;QADA;MAFA;IAMA,CApBA;;IAqBAM;MACA;MACA;QACAF,gBADA;QAEAC;UACAE;QADA;MAFA;IAMA;;EA7BA;AAZA","names":["data","search","products","mounted","methods","sendSearch","request","get","params","key","then","res","searchBtn","path","query","toDetails","id"],"sourceRoot":"src/views/search","sources":["Search.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h3><i class=\"fas fa-info-circle\" style=\"color: #909399\"></i> 搜索结果</h3>\r\n    <el-row class=\"search\" type=\"flex\">\r\n      <el-input\r\n        v-model=\"search\"\r\n        placeholder=\"请输入搜索内容\"\r\n        style=\"margin-top: 13px\"\r\n      ></el-input>\r\n      <div>\r\n        <el-button\r\n          @click=\"searchBtn\"\r\n          icon=\"el-icon-search\"\r\n          class=\"btn\"\r\n          circle\r\n        ></el-button>\r\n      </div>\r\n    </el-row>\r\n    <div class=\"parent\">\r\n      <div\r\n        v-for=\"(item, index) in products\"\r\n        :key=\"index\"\r\n        @click=\"toDetails(item.productId)\"\r\n      >\r\n        <el-image :src=\"item.imgSrc\" class=\"img\"></el-image>\r\n        <div class=\"name\">{{ item.productName }}</div>\r\n        <div class=\"price\">￥{{ item.productPrice }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '../../utils/request'\r\nexport default {\r\n  data() {\r\n    return {\r\n      search: '',\r\n      products: []\r\n    }\r\n  },\r\n  mounted() {\r\n    let key = this.$route.query.key\r\n    this.search = key\r\n    this.sendSearch(key)\r\n  },\r\n  methods: {\r\n    sendSearch(key) {\r\n      request\r\n        .get('/product/search', {\r\n          params: {\r\n            key: key\r\n          }\r\n        })\r\n        .then((res) => {\r\n          this.products = res.data\r\n        })\r\n    },\r\n    searchBtn() {\r\n      this.sendSearch(this.search)\r\n      this.$router.push({\r\n        path: '/search',\r\n        query: {\r\n          key: this.search\r\n        }\r\n      })\r\n    },\r\n    toDetails(id) {\r\n      // 点击 ProductItem 组件，通过路由传递商品id给Dtails组件，期间发起请求。\r\n      this.$router.push({\r\n        path: '/details',\r\n        query: {\r\n          id: id\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  width: 80%;\r\n  margin-left: 50%;\r\n  transform: translate(-50%);\r\n}\r\n.container h3 {\r\n  height: 50px;\r\n  line-height: 60px;\r\n  font-weight: 400;\r\n  border-bottom: 1px dotted rgba(204, 204, 204, 0.5);\r\n}\r\n.search {\r\n  margin-left: 50%;\r\n  transform: translate(-50%);\r\n}\r\n.btn {\r\n  margin-top: 12px;\r\n  margin-left: 10px;\r\n}\r\n.parent {\r\n  display: grid;\r\n  grid-template-columns: repeat(5, 1fr);\r\n  /* grid-template-rows: repeat(5, 1fr); */\r\n  grid-column-gap: 10px;\r\n  grid-row-gap: 10px;\r\n  margin-top: 20px;\r\n}\r\n.parent > div {\r\n  height: 220px;\r\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\r\n    rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n.img {\r\n  height: 60%;\r\n  margin-top: 15px;\r\n}\r\n.name {\r\n  color: #666;\r\n}\r\n.price {\r\n  color: #e4393c;\r\n}\r\n</style>"]}]}