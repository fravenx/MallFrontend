{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/details/Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/details/Comment.vue","mtime":1677682822549},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/babel.config.js","mtime":1677682822494},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY0RldGFpbHNDb21tZW50OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CgogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogJycKICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIGxldCB1SWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTsKICAgIHJlcXVlc3QuZ2V0KCcvdXNlci8nICsgdUlkKS50aGVuKHJlcyA9PiB7CiAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgdGhpcy51c2VybmFtZSA9IHJlcy5kYXRhLnVzZXJuYW1lOwogICAgICB9CiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBjb25maXJtKCkgewogICAgICBsZXQgY29tbWVudElkID0gdGhpcy5jRGV0YWlsc0NvbW1lbnQuY29tbWVudElkOwogICAgICByZXF1ZXN0LmRlbGV0ZSgnL2NvbW1lbnQvJyArIGNvbW1lbnRJZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLiRlbWl0KCdyZWxvYWQnLCBjb21tZW50SWQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGNhbmNlbCgpIHt9CgogIH0KfTs="},{"version":3,"mappings":"AA4BA;AAEA;EACAA;IACAC;MACAC,YADA;;MAEAC;QACA;MACA;;IAJA;EADA,CADA;;EASAC;IACA;MACAC;IADA;EAGA,CAbA;;EAcAC;IACA;IACAC;MACA;QACA;MACA;IACA,CAJA;EAKA,CArBA;;EAsBAC;IACAC;MACA;MACAF;QACA;UACA;YACAG,gBADA;YAEAR,eAFA;YAGAS;UAHA;UAKA;QACA;MACA,CATA;IAUA,CAbA;;IAcAC;;EAdA;AAtBA","names":["props","cDetailsComment","type","default","data","username","created","request","methods","confirm","message","duration","cancel"],"sourceRoot":"src/views/details","sources":["Comment.vue"],"sourcesContent":["<template>\r\n  <div class=\"com-header\">\r\n    <el-avatar\r\n      :size=\"50\"\r\n      :src=\"cDetailsComment.avatar\"\r\n      class=\"avatar\"\r\n    ></el-avatar>\r\n    <span class=\"uname\">{{ cDetailsComment.username }}</span>\r\n    <span class=\"text\">{{ cDetailsComment.commentText }}</span>\r\n    <el-popconfirm\r\n      title=\"确定删除此条评论吗？\"\r\n      @confirm=\"confirm\"\r\n      @cancel=\"cancel\"\r\n      placement=\"top\"\r\n    >\r\n      <el-button\r\n        v-show=\"username === cDetailsComment.username\"\r\n        size=\"mini\"\r\n        slot=\"reference\"\r\n        plain\r\n        type=\"danger\"\r\n        >删 除</el-button\r\n      >\r\n    </el-popconfirm>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '../../utils/request'\r\n\r\nexport default {\r\n  props: {\r\n    cDetailsComment: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      username: ''\r\n    }\r\n  },\r\n  created() {\r\n    let uId = sessionStorage.getItem('userId')\r\n    request.get('/user/' + uId).then((res) => {\r\n      if (res.code === '0') {\r\n        this.username = res.data.username\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    confirm() {\r\n      let commentId = this.cDetailsComment.commentId\r\n      request.delete('/comment/' + commentId).then((res) => {\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: 'success',\r\n            duration: 1000\r\n          })\r\n          this.$emit('reload', commentId)\r\n        }\r\n      })\r\n    },\r\n    cancel() {}\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.com-header {\r\n  height: 90px;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.avatar {\r\n  position: relative;\r\n  left: 10px;\r\n  top: 20px;\r\n  border: 1px solid #ccc;\r\n}\r\n.uname {\r\n  position: relative;\r\n  left: 20px;\r\n  bottom: 20px;\r\n}\r\n.text {\r\n  position: relative;\r\n  right: 10px;\r\n  top: 5px;\r\n  color: #787a89;\r\n  font-size: 13px;\r\n}\r\n</style>"]}]}