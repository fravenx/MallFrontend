{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/details/Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/details/Comment.vue","mtime":1677682822549},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgcmVxdWVzdCBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0Jw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgY0RldGFpbHNDb21tZW50OiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVzZXJuYW1lOiAnJw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBsZXQgdUlkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykNCiAgICByZXF1ZXN0LmdldCgnL3VzZXIvJyArIHVJZCkudGhlbigocmVzKSA9PiB7DQogICAgICBpZiAocmVzLmNvZGUgPT09ICcwJykgew0KICAgICAgICB0aGlzLnVzZXJuYW1lID0gcmVzLmRhdGEudXNlcm5hbWUNCiAgICAgIH0NCiAgICB9KQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY29uZmlybSgpIHsNCiAgICAgIGxldCBjb21tZW50SWQgPSB0aGlzLmNEZXRhaWxzQ29tbWVudC5jb21tZW50SWQNCiAgICAgIHJlcXVlc3QuZGVsZXRlKCcvY29tbWVudC8nICsgY29tbWVudElkKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csDQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICBkdXJhdGlvbjogMTAwMA0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy4kZW1pdCgncmVsb2FkJywgY29tbWVudElkKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgY2FuY2VsKCkge30NCiAgfQ0KfQ0K"},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";AA4BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"src/views/details","sourcesContent":["<template>\r\n  <div class=\"com-header\">\r\n    <el-avatar\r\n      :size=\"50\"\r\n      :src=\"cDetailsComment.avatar\"\r\n      class=\"avatar\"\r\n    ></el-avatar>\r\n    <span class=\"uname\">{{ cDetailsComment.username }}</span>\r\n    <span class=\"text\">{{ cDetailsComment.commentText }}</span>\r\n    <el-popconfirm\r\n      title=\"确定删除此条评论吗？\"\r\n      @confirm=\"confirm\"\r\n      @cancel=\"cancel\"\r\n      placement=\"top\"\r\n    >\r\n      <el-button\r\n        v-show=\"username === cDetailsComment.username\"\r\n        size=\"mini\"\r\n        slot=\"reference\"\r\n        plain\r\n        type=\"danger\"\r\n        >删 除</el-button\r\n      >\r\n    </el-popconfirm>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '../../utils/request'\r\n\r\nexport default {\r\n  props: {\r\n    cDetailsComment: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      username: ''\r\n    }\r\n  },\r\n  created() {\r\n    let uId = sessionStorage.getItem('userId')\r\n    request.get('/user/' + uId).then((res) => {\r\n      if (res.code === '0') {\r\n        this.username = res.data.username\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    confirm() {\r\n      let commentId = this.cDetailsComment.commentId\r\n      request.delete('/comment/' + commentId).then((res) => {\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: 'success',\r\n            duration: 1000\r\n          })\r\n          this.$emit('reload', commentId)\r\n        }\r\n      })\r\n    },\r\n    cancel() {}\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.com-header {\r\n  height: 90px;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.avatar {\r\n  position: relative;\r\n  left: 10px;\r\n  top: 20px;\r\n  border: 1px solid #ccc;\r\n}\r\n.uname {\r\n  position: relative;\r\n  left: 20px;\r\n  bottom: 20px;\r\n}\r\n.text {\r\n  position: relative;\r\n  right: 10px;\r\n  top: 5px;\r\n  color: #787a89;\r\n  font-size: 13px;\r\n}\r\n</style>"]}]}