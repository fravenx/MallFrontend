{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/like/LikeItem.vue?vue&type=style&index=0&id=6f991b90&scoped=true&lang=css&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/like/LikeItem.vue","mtime":1677682822550},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouaXRlbSB7DQogIGhlaWdodDogMjM1cHg7DQogIHdpZHRoOiAxODBweDsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogIG1hcmdpbi1ib3R0b206IDEwcHg7DQogIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4xNSkgMHB4IDJweCA4cHg7DQp9DQouaW1nYm94IHsNCiAgaGVpZ2h0OiAxODBweDsNCiAgd2lkdGg6IDE4MHB4Ow0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCi5pbWdib3ggaW1nIHsNCiAgaGVpZ2h0OiAxMjBweDsNCiAgbWFyZ2luLXRvcDogMzBweDsNCiAgdHJhbnNpdGlvbjogYWxsIDAuNXM7DQp9DQouYWRkLA0KLmJ1eSwNCi5kZWwgew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTsNCiAgY29sb3I6ICNmZmY7DQogIGhlaWdodDogMjVweDsNCiAgd2lkdGg6IDgwcHg7DQogIGxpbmUtaGVpZ2h0OiAyNXB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIGZvbnQtc2l6ZTogMTNweDsNCiAgZGlzcGxheTogbm9uZTsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KLmFkZCB7DQogIGJvdHRvbTogMDsNCiAgbGVmdDogMDsNCn0NCi5idXkgew0KICByaWdodDogMDsNCiAgYm90dG9tOiAwOw0KfQ0KLmRlbCB7DQogIHRvcDogMDsNCiAgcmlnaHQ6IDA7DQogIHdpZHRoOiAyNXB4Ow0KfQ0KLmltZ2JveDpob3ZlciAuYWRkLA0KLmltZ2JveDpob3ZlciAuYnV5LA0KLmltZ2JveDpob3ZlciAuZGVsIHsNCiAgZGlzcGxheTogYmxvY2s7DQp9DQouaW1nYm94OmhvdmVyIGltZyB7DQogIHRyYW5zZm9ybTogc2NhbGUoMS4xKTsNCn0NCg0KLnAtbmFtZSB7DQogIGZvbnQtd2VpZ2h0OiA0MDA7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCi5wLXRpbWUgew0KICBmb250LXNpemU6IDEzcHg7DQogIHBhZGRpbmctbGVmdDogMTBweDsNCn0NCi5wLXByaWNlIHsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQp9DQoucHJpY2UxLA0KLnByaWNlMiB7DQogIGZvbnQtd2VpZ2h0OiA3MDA7DQp9DQoucHJpY2UxIHsNCiAgY29sb3I6ICNmZjQ0MDA7DQogIGZvbnQtc2l6ZTogMTRweDsNCn0NCi5wcmljZTIgew0KICBjb2xvcjogIzljOWM5YzsNCiAgZm9udC1zaXplOiAxM3B4Ow0KICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDsNCiAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCg=="},{"version":3,"sources":["LikeItem.vue"],"names":[],"mappings":";AAoJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LikeItem.vue","sourceRoot":"src/views/like","sourcesContent":["<template>\r\n  <div class=\"item\">\r\n    <a href=\"javascript:;\" @click=\"toDetails\">\r\n      <div class=\"imgbox\">\r\n        <img :src=\"likeProduct.imgSrc\" alt=\"\" />\r\n        <div class=\"add\" @click=\"addToCart\">加入购物车</div>\r\n        <div class=\"buy\" @click=\"toCheckout\">直接购买</div>\r\n        <div class=\"del\" @click=\"showDelete\">\r\n          <el-popover placement=\"top\" width=\"160\" v-model=\"visible\">\r\n            <p>确定从收藏夹移出该商品吗？</p>\r\n            <div style=\"text-align: right; margin: 0\">\r\n              <el-button size=\"mini\" type=\"text\" @click=\"visible = false\"\r\n                >取消</el-button\r\n              >\r\n              <el-button type=\"primary\" size=\"mini\" @click=\"deleteItem\"\r\n                >确定</el-button\r\n              >\r\n            </div>\r\n            <i\r\n              slot=\"reference\"\r\n              class=\"fas fa-trash-alt\"\r\n              style=\"color: #fff\"\r\n            ></i>\r\n          </el-popover>\r\n        </div>\r\n      </div>\r\n    </a>\r\n\r\n    <div style=\"background-color: #f4f4f5\">\r\n      <div class=\"p-name\">{{ likeProduct.productName }}</div>\r\n      <div class=\"p-time\">\r\n        收藏时间：<span style=\"color: #409eff\">{{\r\n          likeProduct.likeTime.slice(0, 10)\r\n        }}</span>\r\n      </div>\r\n      <div class=\"p-price\">\r\n        <span class=\"price1\">\r\n          ￥{{ (likeProduct.productPrice * likeProduct.discount).toFixed(2) }}\r\n        </span>\r\n        <span v-if=\"likeProduct.discount < 1\" class=\"price2\"\r\n          >￥{{ likeProduct.productPrice }}</span\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '../../utils/request'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible: false\r\n    }\r\n  },\r\n  props: {\r\n    likeProduct: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    toDetails() {\r\n      this.$router.push({\r\n        path: '/details',\r\n        query: {\r\n          id: this.likeProduct.productId\r\n        }\r\n      })\r\n    },\r\n    addToCart(e) {\r\n      e.stopPropagation()\r\n      let pId = this.likeProduct.productId\r\n      let uId = sessionStorage.getItem('userId')\r\n      if (uId) {\r\n        request\r\n          .post('/cart', {\r\n            userId: uId,\r\n            productId: pId,\r\n            count: this.num\r\n          })\r\n          .then((res) => {\r\n            if (res.code == '1') {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'warning',\r\n                duration: 1000\r\n              })\r\n            } else {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'success',\r\n                duration: 1000\r\n              })\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n      } else {\r\n        this.$message({\r\n          message: '请先登录！',\r\n          type: 'warning',\r\n          duration: 1000\r\n        })\r\n      }\r\n    },\r\n    showDelete(e) {\r\n      this.visible = true\r\n      e.stopPropagation()\r\n    },\r\n    deleteItem(e) {\r\n      request\r\n        .delete('/like/' + this.likeProduct.likeId)\r\n        .then((res) => {\r\n          if (res.code == '0') {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: 'success',\r\n              duration: 1000\r\n            })\r\n            this.$emit('reload')\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n      this.visible = false\r\n    },\r\n    toCheckout(e) {\r\n      e.stopPropagation()\r\n      this.likeProduct.count = 1\r\n      let obj = {\r\n        total: 1,\r\n        money: this.likeProduct.productPrice * this.likeProduct.discount,\r\n        cartProducts: [this.likeProduct]\r\n      }\r\n      sessionStorage.setItem('checkout', JSON.stringify(obj))\r\n      this.$router.push('/checkout')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.item {\r\n  height: 235px;\r\n  width: 180px;\r\n  margin-left: 10px;\r\n  margin-bottom: 10px;\r\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 8px;\r\n}\r\n.imgbox {\r\n  height: 180px;\r\n  width: 180px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  text-align: center;\r\n}\r\n.imgbox img {\r\n  height: 120px;\r\n  margin-top: 30px;\r\n  transition: all 0.5s;\r\n}\r\n.add,\r\n.buy,\r\n.del {\r\n  position: absolute;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  color: #fff;\r\n  height: 25px;\r\n  width: 80px;\r\n  line-height: 25px;\r\n  text-align: center;\r\n  font-size: 13px;\r\n  display: none;\r\n  cursor: pointer;\r\n}\r\n.add {\r\n  bottom: 0;\r\n  left: 0;\r\n}\r\n.buy {\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n.del {\r\n  top: 0;\r\n  right: 0;\r\n  width: 25px;\r\n}\r\n.imgbox:hover .add,\r\n.imgbox:hover .buy,\r\n.imgbox:hover .del {\r\n  display: block;\r\n}\r\n.imgbox:hover img {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.p-name {\r\n  font-weight: 400;\r\n  text-align: center;\r\n}\r\n.p-time {\r\n  font-size: 13px;\r\n  padding-left: 10px;\r\n}\r\n.p-price {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.price1,\r\n.price2 {\r\n  font-weight: 700;\r\n}\r\n.price1 {\r\n  color: #ff4400;\r\n  font-size: 14px;\r\n}\r\n.price2 {\r\n  color: #9c9c9c;\r\n  font-size: 13px;\r\n  text-decoration: line-through;\r\n  margin-left: 5px;\r\n}\r\n</style>"]}]}