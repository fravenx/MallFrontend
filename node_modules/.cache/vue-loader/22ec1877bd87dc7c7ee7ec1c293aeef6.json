{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/login/Login.vue","mtime":1679276972540},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgcmVxdWVzdCBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0Jw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZvcm06IHt9LA0KICAgICAgcGFzc3dvcmRGb3JtOiB7DQogICAgICAgIHVzZXJuYW1lOiBudWxsLA0KICAgICAgICBuZXdQYXNzd29yZDogbnVsbCwNCiAgICAgICAgdHdpY2VQYXNzd29yZDogbnVsbA0KICAgICAgfSwNCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlNDogZmFsc2UNCg0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHBhc3N3b3JkT3V0KCkgew0KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZTQgPSB0cnVlDQogICAgfSwNCiAgICBjaGFuZ2VQYXNzd29yZCgpIHsNCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkRm9ybS51c2VybmFtZSA9PSBudWxsIHx8DQogICAgICAgICAgdGhpcy5wYXNzd29yZEZvcm0ubmV3UGFzc3dvcmQgPT0gbnVsbCB8fA0KICAgICAgICAgIHRoaXMucGFzc3dvcmRGb3JtLnR3aWNlUGFzc3dvcmQgPT0gbnVsbCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfovpPlhaXkuI3lhYHorrjkuLrnqbrvvIEnKQ0KICAgICAgfSBlbHNlIGlmICh0aGlzLnBhc3N3b3JkRm9ybS5uZXdQYXNzd29yZCAhPSB0aGlzLnBhc3N3b3JkRm9ybS50d2ljZVBhc3N3b3JkKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4pOasoeWvhueggeS4jeS4gOiHtO+8jOivt+mHjeaWsOi+k+WFpScpDQogICAgICAgIHRoaXMucGFzc3dvcmRGb3JtLm5ld1Bhc3N3b3JkID0gbnVsbA0KICAgICAgICB0aGlzLnBhc3N3b3JkRm9ybS50d2ljZVBhc3N3b3JkID0gbnVsbA0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmVxdWVzdA0KICAgICAgICAgICAgLnBvc3QoJy91c2VyL2ZvcmdldC9wYXNzd29yZCcsIHRoaXMucGFzc3dvcmRGb3JtKQ0KICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwJykgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlNCA9IGZhbHNlDQogICAgICAgICAgICAgICAgfSwgMTAwMCkNCiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuY29kZSA9PT0gJzExMTEnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQ0KICAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmRGb3JtID0ge30NCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnmbvlvZXlpLHotKXvvIHor7fogZTns7vmnI3liqHlmajnrqHnkIblkZjvvIEnKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHRvUmVnaXN0ZXIoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3JlZ2lzdGVyJykNCiAgICB9LA0KICAgIHRvSG9tZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpDQogICAgfSwNCiAgICBsb2dpbigpIHsNCiAgICAgIGlmICgNCiAgICAgICAgdHlwZW9mIHRoaXMuZm9ybS51c2VybmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwNCiAgICAgICAgdHlwZW9mIHRoaXMuZm9ybS5wYXNzd29yZCA9PSAndW5kZWZpbmVkJyB8fA0KICAgICAgICB0aGlzLmZvcm0udXNlcm5hbWUubGVuZ3RoID09PSAwIHx8DQogICAgICAgIHRoaXMuZm9ybS5wYXNzd29yZC5sZW5ndGggPT09IDANCiAgICAgICkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCN5ZKM5a+G56CB77yBJywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgZHVyYXRpb246IDIwMDANCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybSkNCiAgICAgICAgcmVxdWVzdA0KICAgICAgICAgIC5wb3N0KCcvdXNlci9sb2dpbicsIHRoaXMuZm9ybSkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwJykgew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMA0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdyb2xlJywgcmVzLmRhdGEucm9sZSkNCiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEudXNlcklkKSkNCiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpDQogICAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEucm9sZSA9PSAndXNlcicpIHsNCiAgICAgICAgICAgICAgICAgIC8vIOaZrumAmueUqOaItw0KICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJykNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnJvbGUgPT0gJ2FkbWluJykgew0KICAgICAgICAgICAgICAgICAgLy8g566h55CG5ZGYDQogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2FkbWluJykNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnJvbGUgPT0gJ3Nob3AnKSB7DQogICAgICAgICAgICAgICAgICAvLyDllYblrrYNCiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvc2hvcCcpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9LCAxMDAwKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign55m75b2V5aSx6LSl77yB6ZSZ6K+v5Y6f5Zug77yaJyArIHJlcy5tc2cpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICByZWdpc3RlcigpIHsNCiAgICAgIGlmICgNCiAgICAgICAgdHlwZW9mIHRoaXMuZm9ybS51c2VybmFtZSA9PSAndW5kZWZpbmVkJyB8fA0KICAgICAgICB0eXBlb2YgdGhpcy5mb3JtLnBhc3N3b3JkID09ICd1bmRlZmluZWQnIHx8DQogICAgICAgIHR5cGVvZiB0aGlzLmZvcm0ucmVwZWF0UGFzc3dvcmQgPT0gJ3VuZGVmaW5lZCcNCiAgICAgICkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiAn55u45YWz5L+h5oGv5LiN6IO95Li656m6JywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuZm9ybS51c2VybmFtZS5sZW5ndGggPT0gMCB8fA0KICAgICAgICB0aGlzLmZvcm0ucGFzc3dvcmQubGVuZ3RoID09IDAgfHwNCiAgICAgICAgdGhpcy5mb3JtLnJlcGVhdFBhc3N3b3JkLmxlbmd0aCA9PSAwDQogICAgICApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogJ+ebuOWFs+S/oeaBr+S4jeiDveS4uuepuicsDQogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgIH0pDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZm9ybS5wYXNzd29yZCAhPSB0aGlzLmZvcm0ucmVwZWF0UGFzc3dvcmQpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogJ+S4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtO+8gScsDQogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXF1ZXN0DQogICAgICAgICAgLnBvc3QoJy91c2VyL3JlZ2lzdGVyJywgdGhpcy5mb3JtKQ0KICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIC8vIOeUqOaIt+WQjemHjeWkjQ0KICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09ICcxJykgew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuY29kZSA9PSAnMCcpIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZyArICfor7fliY3lvoDnmbvlvZXvvIEnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+azqOWGjOWksei0pe+8gemUmeivr+WOn+WboO+8muacjeWKoeWZqOWHuueOsOmXrumimOOAgicpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgIH0pDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIGNvbnN0IHNpbmdVcEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaWduLXVwLWJ0bicpDQogICAgY29uc3Qgc2luZ0luQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpZ24taW4tYnRuJykNCiAgICBjb25zdCBjb250YWluZXIxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcjEnKQ0KDQogICAgc2luZ1VwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgY29udGFpbmVyMS5jbGFzc0xpc3QuYWRkKCdzaWduLXVwLW1vZGUnKQ0KICAgIH0pDQogICAgc2luZ0luQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgY29udGFpbmVyMS5jbGFzc0xpc3QucmVtb3ZlKCdzaWduLXVwLW1vZGUnKQ0KICAgIH0pDQogIH0NCn0NCg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AAoGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n  <div class=\"container1\">\r\n    <div class=\"form-warp\">\r\n      <form class=\"sign-in-form\">\r\n        <h2 class=\"logo\">\r\n          <a href=\"/home\" style=\"color: #6266f5;\">\r\n            在线商城系统\r\n          </a>\r\n        </h2>\r\n        <h2 class=\"form-title\">登录</h2>\r\n        <input v-model=\"form.username\" placeholder=\"用户名\" />\r\n        <input\r\n          v-model=\"form.password\"\r\n          type=\"password\"\r\n          placeholder=\"密码\"\r\n          autocomplete\r\n        />\r\n        <div class=\"submit-btn\" @click=\"login\">立即登录</div>\r\n        <div class=\"submit-btn\" @click=\"passwordOut\">忘记密码</div>\r\n\r\n      </form>\r\n      <!-- 修改密码 -->\r\n      <el-dialog\r\n          title=\"请填入相关信息\"\r\n          :visible.sync=\"dialogFormVisible4\"\r\n          append-to-body\r\n      >\r\n        <el-form :model=\"passwordForm\" label-width=\"140px\">\r\n          <el-form-item style=\"margin-bottom: 7px\" label=\"请输入用户名\">\r\n            <el-input\r\n                v-model=\"passwordForm.username\"\r\n                style=\"width: 300px\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"margin-bottom: 7px\" label=\"请输入新密码\">\r\n            <el-input\r\n                v-model=\"passwordForm.newPassword\"\r\n                prefix-icon=\"el-icon-key\"\r\n                style=\"width: 300px\"\r\n                show-password\r\n                type=\"password\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"margin-bottom: 7px\" label=\"请再次输入新密码\">\r\n            <el-input\r\n                v-model=\"passwordForm.twicePassword\"\r\n                prefix-icon=\"el-icon-key\"\r\n                style=\"width: 300px\"\r\n                show-password\r\n                type=\"password\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <input type=\"button\" width=\"50px\" value=\"取消\" @click=\"dialogFormVisible4 = false\"></input>\r\n        <input type=\"button\" width=\"50px\" value=\"确定\" @click=\"changePassword\"></input>\r\n\r\n      </el-dialog>\r\n      <form class=\"sign-up-form\">\r\n        <h2 class=\"logo\">\r\n          <a href=\"/home\" style=\"color: #6266f5;\">\r\n            在线商城系统\r\n          </a>\r\n        </h2>\r\n        <h2 class=\"form-title\">注册</h2>\r\n        <input v-model=\"form.username\" placeholder=\"用户名\" />\r\n        <input\r\n          v-model=\"form.password\"\r\n          type=\"password\"\r\n          placeholder=\"请设置密码\"\r\n          autocomplete\r\n        />\r\n        <input\r\n          v-model=\"form.repeatPassword\"\r\n          type=\"password\"\r\n          placeholder=\"请再次密码\"\r\n          autocomplete\r\n        />\r\n        <div class=\"submit-btn\" @click=\"register\">立即注册</div>\r\n      </form>\r\n    </div>\r\n    <div class=\"desc-warp\">\r\n      <div class=\"desc-warp-item sign-up-desc\">\r\n        <div class=\"content\">\r\n          <button id=\"sign-up-btn\">注册</button>\r\n        </div>\r\n        <!-- <img src=\"./img/log.svg\" alt=\"\" /> -->\r\n        <img src=\"../../assets/upload/left.svg\" alt=\"\" />\r\n      </div>\r\n      <div class=\"desc-warp-item sign-in-desc\">\r\n        <div class=\"content\">\r\n          <button id=\"sign-in-btn\">登录</button>\r\n        </div>\r\n        <img style=\"width: 80%\" src=\"../../assets/upload/right.svg\" alt=\"\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '../../utils/request'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {},\r\n      passwordForm: {\r\n        username: null,\r\n        newPassword: null,\r\n        twicePassword: null\r\n      },\r\n      dialogFormVisible4: false\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    passwordOut() {\r\n      this.dialogFormVisible4 = true\r\n    },\r\n    changePassword() {\r\n      if (this.passwordForm.username == null ||\r\n          this.passwordForm.newPassword == null ||\r\n          this.passwordForm.twicePassword == null) {\r\n        this.$message.error('输入不允许为空！')\r\n      } else if (this.passwordForm.newPassword != this.passwordForm.twicePassword) {\r\n        this.$message.error('两次密码不一致，请重新输入')\r\n        this.passwordForm.newPassword = null\r\n        this.passwordForm.twicePassword = null\r\n      } else {\r\n        request\r\n            .post('/user/forget/password', this.passwordForm)\r\n            .then((res) => {\r\n              if (res.code === '0') {\r\n                this.$message({\r\n                  message: res.msg,\r\n                  type: 'success',\r\n                  duration: 1000\r\n                })\r\n                this.timer = setTimeout(() => {\r\n                  this.dialogFormVisible4 = false\r\n                }, 1000)\r\n              } else if (res.code === '1111') {\r\n                this.$message.error(res.msg)\r\n                this.passwordForm = {}\r\n              } else {\r\n                this.$message.error('登录失败！请联系服务器管理员！')\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.log(err)\r\n            })\r\n      }\r\n    },\r\n    toRegister() {\r\n      this.$router.push('/register')\r\n    },\r\n    toHome() {\r\n      this.$router.push('/home')\r\n    },\r\n    login() {\r\n      if (\r\n        typeof this.form.username === 'undefined' ||\r\n        typeof this.form.password == 'undefined' ||\r\n        this.form.username.length === 0 ||\r\n        this.form.password.length === 0\r\n      ) {\r\n        this.$message({\r\n          message: '请输入用户名和密码！',\r\n          type: 'warning',\r\n          duration: 2000\r\n        })\r\n      } else {\r\n        console.log(this.form)\r\n        request\r\n          .post('/user/login', this.form)\r\n          .then((res) => {\r\n            if (res.code === '0') {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'success',\r\n                duration: 1000\r\n              })\r\n              sessionStorage.setItem('role', res.data.role)\r\n              sessionStorage.setItem('userId', JSON.stringify(res.data.userId))\r\n              clearTimeout(this.timer)\r\n              this.timer = setTimeout(() => {\r\n                if (res.data.role == 'user') {\r\n                  // 普通用户\r\n                  this.$router.push('/home')\r\n                } else if (res.data.role == 'admin') {\r\n                  // 管理员\r\n                  this.$router.push('/admin')\r\n                } else if (res.data.role == 'shop') {\r\n                  // 商家\r\n                  this.$router.push('/shop')\r\n                }\r\n              }, 1000)\r\n            } else {\r\n              this.$message.error('登录失败！错误原因：' + res.msg)\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n      }\r\n    },\r\n    register() {\r\n      if (\r\n        typeof this.form.username == 'undefined' ||\r\n        typeof this.form.password == 'undefined' ||\r\n        typeof this.form.repeatPassword == 'undefined'\r\n      ) {\r\n        this.$message({\r\n          message: '相关信息不能为空',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (\r\n        this.form.username.length == 0 ||\r\n        this.form.password.length == 0 ||\r\n        this.form.repeatPassword.length == 0\r\n      ) {\r\n        this.$message({\r\n          message: '相关信息不能为空',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (this.form.password != this.form.repeatPassword) {\r\n        this.$message({\r\n          message: '两次输入密码不一致！',\r\n          type: 'warning'\r\n        })\r\n      } else {\r\n        request\r\n          .post('/user/register', this.form)\r\n          .then((res) => {\r\n            // 用户名重复\r\n            if (res.code == '1') {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'warning'\r\n              })\r\n            } else if (res.code == '0') {\r\n              this.$message({\r\n                message: res.msg + '请前往登录！',\r\n                type: 'success'\r\n              })\r\n              this.$router.push('/login')\r\n            } else {\r\n              this.$message.error('注册失败！错误原因：服务器出现问题。')\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const singUpBtn = document.querySelector('#sign-up-btn')\r\n    const singInBtn = document.querySelector('#sign-in-btn')\r\n    const container1 = document.querySelector('.container1')\r\n\r\n    singUpBtn.addEventListener('click', () => {\r\n      container1.classList.add('sign-up-mode')\r\n    })\r\n    singInBtn.addEventListener('click', () => {\r\n      container1.classList.remove('sign-up-mode')\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n  color: #333;\r\n}\r\n\r\n.container1 {\r\n  position: relative;\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n.container1::before {\r\n  content: ' ';\r\n  position: absolute;\r\n  width: 2000px;\r\n  height: 2000px;\r\n  border-radius: 50%;\r\n  background-image: linear-gradient(-45deg, #6266f5 0%, #04befe 100%);\r\n  transition: 1.8s ease-in-out;\r\n  z-index: 6;\r\n  top: -10%;\r\n  right: 48%;\r\n  transform: translateY(-50%);\r\n}\r\n.container1.sign-up-mode::before {\r\n  transform: translate(100%, -50%);\r\n}\r\n\r\n.form-warp {\r\n  width: 50%;\r\n  position: absolute;\r\n  z-index: 5;\r\n  left: 75%;\r\n  top: 50%;\r\n  z-index: 5;\r\n  transform: translate(-50%, -50%);\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  transition: 1s 0.7s ease-in-out;\r\n}\r\n.form-warp form {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  /* 将两个 form 布局在 grid 同一位置 */\r\n  grid-row: 1 / 2;\r\n  grid-column: 1 / 2;\r\n  transition: all 0.2s 0.7s;\r\n  opacity: 1;\r\n  z-index: 4;\r\n}\r\n.form-title {\r\n  color: #6266f5;\r\n}\r\n.form-warp .sign-up-form {\r\n  opacity: 0;\r\n  z-index: 3;\r\n}\r\n.container1.sign-up-mode .form-warp {\r\n  left: 25%;\r\n}\r\n.container1.sign-up-mode .sign-in-form {\r\n  opacity: 0;\r\n  z-index: 3;\r\n}\r\n.container1.sign-up-mode .sign-up-form {\r\n  opacity: 1;\r\n  z-index: 4;\r\n}\r\ninput,\r\n.submit-btn {\r\n  min-width: 300px;\r\n  outline: none;\r\n  padding: 12px 30px;\r\n  line-height: 1;\r\n  font-size: 16px;\r\n  border-radius: 60px;\r\n  color: #333;\r\n  background-color: #6267f513;\r\n  border: none;\r\n  transition: all 0.2s;\r\n}\r\ninput::placeholder {\r\n  color: #cccc;\r\n}\r\n\r\n.submit-btn:hover {\r\n  box-shadow: rgba(0, 0, 0, 0.15) 0 3px 9px 0;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.submit-btn {\r\n  background-color: #6266f5;\r\n  color: #fff;\r\n  text-align: center;\r\n  min-width: 150px;\r\n  font-size: initial;\r\n  font-weight: bold;\r\n  letter-spacing: 1.5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.desc-warp {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n}\r\n.desc-warp-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  justify-content: space-around;\r\n  text-align: center;\r\n  text-align: center;\r\n  padding: 3rem 17% 2rem 12%;\r\n  z-index: 6;\r\n}\r\n/* 事件穿透 BEGIN */\r\n.sign-in-desc {\r\n  pointer-events: none;\r\n}\r\n.sign-up-mode .sign-in-desc {\r\n  pointer-events: all;\r\n}\r\n.sign-up-mode .sign-up-desc {\r\n  pointer-events: none;\r\n}\r\n/* 事件穿透 END */\r\n.content {\r\n  width: 100%;\r\n  transition: transform 0.9s ease-in-out;\r\n  transition-delay: 0.6s;\r\n}\r\n.sign-in-desc img,\r\n.sign-in-desc .content {\r\n  transform: translateX(800px);\r\n}\r\n.sign-up-mode .sign-in-desc img,\r\n.sign-up-mode .sign-in-desc .content {\r\n  transform: translateX(0);\r\n}\r\n\r\n.sign-up-mode .sign-up-desc img,\r\n.sign-up-mode .sign-up-desc .content {\r\n  transform: translateX(-800px);\r\n}\r\n\r\nbutton {\r\n  outline: none;\r\n  padding: 6px 8px;\r\n  min-width: 100px;\r\n  text-align: center;\r\n  border-radius: 30px;\r\n  border: 2px solid #fff;\r\n  background: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\nbutton:active {\r\n  background: rgba(255, 255, 255, 0.1);\r\n}\r\nimg {\r\n  width: 100%;\r\n  display: block;\r\n  transition: transform 0.9s ease-in-out;\r\n  transition-delay: 0.5s;\r\n}\r\n\r\n/* 响应式 */\r\n@media screen and (max-width: 870px) {\r\n  .container1::before {\r\n    width: 1500px;\r\n    height: 1500px;\r\n    transform: translateX(-50%);\r\n    left: 30%;\r\n    bottom: 68%;\r\n    right: initial;\r\n    top: initial;\r\n    transition: 2s ease-in-out;\r\n  }\r\n  .container1.sign-up-mode::before {\r\n    transform: translate(-50%, 100%);\r\n    bottom: 32%;\r\n    right: initial;\r\n  }\r\n  .form-warp {\r\n    width: 100%;\r\n    top: 75%;\r\n    left: 50%;\r\n    transform: translate(-50%, -100%);\r\n    transition: 1s 0.8s ease-in-out;\r\n  }\r\n  .container1.sign-up-mode .form-warp {\r\n    top: 25%;\r\n    left: 50%;\r\n    transform: translate(-50%, 0);\r\n  }\r\n  img {\r\n    width: 200px;\r\n    transition: transform 0.9s ease-in-out;\r\n    transition-delay: 0.7s;\r\n  }\r\n  .desc-warp {\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: 1fr 2fr 1fr;\r\n  }\r\n  .desc-warp-item {\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    padding: 2.5rem 8%;\r\n    grid-column: 1 / 2;\r\n  }\r\n  .sign-in-desc {\r\n    grid-row: 3 / 4;\r\n  }\r\n\r\n  .sign-in-desc img,\r\n  .sign-in-desc .content {\r\n    transform: translateY(800px);\r\n  }\r\n\r\n  .sign-up-mode .sign-in-desc img,\r\n  .sign-up-mode .sign-in-desc .content {\r\n    transform: translateY(0);\r\n  }\r\n\r\n  .sign-up-mode .sign-up-desc img,\r\n  .sign-up-mode .sign-up-desc .content {\r\n    transform: translateY(-800px);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 570px) {\r\n  .container1::before {\r\n    bottom: 72%;\r\n    left: 50%;\r\n  }\r\n  img {\r\n    display: none;\r\n  }\r\n}\r\n.logo {\r\n  border-bottom: 2px solid #fff;\r\n  cursor: pointer;\r\n  color: #6266f5;\r\n}\r\n.logo:hover {\r\n  border-bottom: 2px solid #6266f5;\r\n}\r\n</style>"]}]}