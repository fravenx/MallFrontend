{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/details/Comment.vue?vue&type=style&index=0&id=30ca4970&scoped=true&lang=css&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/details/Comment.vue","mtime":1677682822549},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY29tLWhlYWRlciB7DQogIGhlaWdodDogOTBweDsNCiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7DQp9DQouYXZhdGFyIHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICBsZWZ0OiAxMHB4Ow0KICB0b3A6IDIwcHg7DQogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7DQp9DQoudW5hbWUgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGxlZnQ6IDIwcHg7DQogIGJvdHRvbTogMjBweDsNCn0NCi50ZXh0IHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICByaWdodDogMTBweDsNCiAgdG9wOiA1cHg7DQogIGNvbG9yOiAjNzg3YTg5Ow0KICBmb250LXNpemU6IDEzcHg7DQp9DQo="},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"src/views/details","sourcesContent":["<template>\r\n  <div class=\"com-header\">\r\n    <el-avatar\r\n      :size=\"50\"\r\n      :src=\"cDetailsComment.avatar\"\r\n      class=\"avatar\"\r\n    ></el-avatar>\r\n    <span class=\"uname\">{{ cDetailsComment.username }}</span>\r\n    <span class=\"text\">{{ cDetailsComment.commentText }}</span>\r\n    <el-popconfirm\r\n      title=\"确定删除此条评论吗？\"\r\n      @confirm=\"confirm\"\r\n      @cancel=\"cancel\"\r\n      placement=\"top\"\r\n    >\r\n      <el-button\r\n        v-show=\"username === cDetailsComment.username\"\r\n        size=\"mini\"\r\n        slot=\"reference\"\r\n        plain\r\n        type=\"danger\"\r\n        >删 除</el-button\r\n      >\r\n    </el-popconfirm>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '../../utils/request'\r\n\r\nexport default {\r\n  props: {\r\n    cDetailsComment: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      username: ''\r\n    }\r\n  },\r\n  created() {\r\n    let uId = sessionStorage.getItem('userId')\r\n    request.get('/user/' + uId).then((res) => {\r\n      if (res.code === '0') {\r\n        this.username = res.data.username\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    confirm() {\r\n      let commentId = this.cDetailsComment.commentId\r\n      request.delete('/comment/' + commentId).then((res) => {\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: 'success',\r\n            duration: 1000\r\n          })\r\n          this.$emit('reload', commentId)\r\n        }\r\n      })\r\n    },\r\n    cancel() {}\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.com-header {\r\n  height: 90px;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.avatar {\r\n  position: relative;\r\n  left: 10px;\r\n  top: 20px;\r\n  border: 1px solid #ccc;\r\n}\r\n.uname {\r\n  position: relative;\r\n  left: 20px;\r\n  bottom: 20px;\r\n}\r\n.text {\r\n  position: relative;\r\n  right: 10px;\r\n  top: 5px;\r\n  color: #787a89;\r\n  font-size: 13px;\r\n}\r\n</style>"]}]}