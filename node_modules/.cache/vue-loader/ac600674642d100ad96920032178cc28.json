{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/home/components/Discount.vue?vue&type=style&index=0&id=0ee86024&scoped=true&lang=css&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/home/components/Discount.vue","mtime":1677682822549},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZGlzY291bnQtYmQgew0KICBib3gtc2hhZG93OiByZ2JhKDE3LCAxNywgMjYsIDAuMSkgMHB4IDRweCAxNnB4LA0KICAgIHJnYmEoMTcsIDE3LCAyNiwgMC4wNSkgMHB4IDhweCAzMnB4Ow0KICBoZWlnaHQ6IDI0MHB4Ow0KfQ0KLmhlYWRlciB7DQogIGZvbnQtd2VpZ2h0OiA0MDA7DQogIGhlaWdodDogNjBweDsNCiAgbGluZS1oZWlnaHQ6IDgwcHg7DQogIGNvbG9yOiAzMzM7DQp9DQouc2Vja2lsbCB7DQogIGhlaWdodDogMjQwcHg7DQogIHBhZGRpbmctdG9wOiAyNXB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIGJhY2tncm91bmQtY29sb3I6ICNmMDJiMmI7DQp9DQouc2Vja2lsbCBpbWcgew0KICBtYXJnaW4tdG9wOiAyMHB4Ow0KICB3aWR0aDogMzBweDsNCn0NCi5zZWNraWxsIGgzIHsNCiAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgY29sb3I6ICNmZmY7DQogIGZvbnQtc2l6ZTogMjVweDsNCiAgbWFyZ2luLXRvcDogMTBweDsNCn0NCi5zZWNraWxsIHAgew0KICBmb250LXNpemU6IDEwcHg7DQogIGNvbG9yOiAjZmZmOw0KICBtYXJnaW4tdG9wOiAxMHB4Ow0KfQ0KLnRpbWUgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBtYXJnaW4tbGVmdDogNTAlOw0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlKTsNCiAgbWFyZ2luLXRvcDogNXB4Ow0KICB3aWR0aDogMTAwcHg7DQp9DQoudGltZSBkaXYgew0KICBoZWlnaHQ6IDMwcHg7DQogIHdpZHRoOiAzMHB4Ow0KICBtYXJnaW4tbGVmdDogM3B4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOw0KICBjb2xvcjogI2ZmZjsNCiAgZm9udC13ZWlnaHQ6IDcwMDsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBsaW5lLWhlaWdodDogMzBweDsNCn0NCi50aW1lOjphZnRlciB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBjb250ZW50OiAnJzsNCiAgd2lkdGg6IDEwMHB4Ow0KICBoZWlnaHQ6IDFweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2YwMmIyYjsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDE1cHg7DQp9DQo="},{"version":3,"sources":["Discount.vue"],"names":[],"mappings":";AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Discount.vue","sourceRoot":"src/views/home/components","sourcesContent":["<template>\r\n  <div>\r\n    <h3 class=\"header\">限时折扣</h3>\r\n    <el-row type=\"flex\" class=\"discount-bd\">\r\n      <el-col :span=\"4\" class=\"seckill\">\r\n        <h3>限时秒杀</h3>\r\n        <img src=\"../../../assets/upload/seckill.png\" alt=\"\" />\r\n        <p>距离本场结束还剩</p>\r\n        <div class=\"time\">\r\n          <div>{{ hour }}</div>\r\n          <div>{{ minute }}</div>\r\n          <div>{{ second }}</div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"4\" v-for=\"product in products\" :key=\"product.productId\">\r\n        <DiscountItem :cProduct=\"product\" />\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '@/utils/request'\r\nimport { getDiscountProduct }from '@/api/product.js'\r\nconst DiscountItem = () => import('./DiscountItem.vue')\r\nexport default {\r\n  data() {\r\n    return {\r\n      inputTime: +new Date('2021-12-24 23:00:00'),\r\n      hour: '',\r\n      minute: '',\r\n      second: '',\r\n      timer: null,\r\n      products: [\r\n\r\n      ]\r\n    }\r\n  },\r\n  mounted() {\r\n    getDiscountProduct().then(res=>{\r\n      console.log(res)\r\n      this.products.push(...res)\r\n    })\r\n  },\r\n  created() {\r\n    //调用定时器\r\n    request.get('/countdown').then((res) => {\r\n      let s = res.data\r\n      let a = s.slice(0, 11)\r\n      let b = s.slice(13)\r\n      let m = s.slice(11, 13)\r\n      m = (Number(m) + 8) % 24\r\n      m = m < 10 ? '0' + m : m\r\n      let t = a + m + b\r\n      this.inputTime = +new Date(t)\r\n    })\r\n    this.timer = setInterval(() => {\r\n      this.countDown()\r\n    }, 1000)\r\n  },\r\n  methods: {\r\n    countDown() {\r\n      // 返回的是当前时间总的毫秒数\r\n      var nowTime = +new Date()\r\n      // times是剩余时间总的秒数\r\n      var times = (this.inputTime - nowTime) / 1000\r\n      var h = parseInt((times / 60 / 60) % 24)\r\n      h = h < 10 ? '0' + h : h\r\n      // 把剩余的小时给 小时黑色盒子\r\n      this.hour = h\r\n      var m = parseInt((times / 60) % 60)\r\n      m = m < 10 ? '0' + m : m\r\n      this.minute = m\r\n      var s = parseInt(times % 60)\r\n      s = s < 10 ? '0' + s : s\r\n      this.second = s\r\n    }\r\n  },\r\n  components: {\r\n    DiscountItem\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.discount-bd {\r\n  box-shadow: rgba(17, 17, 26, 0.1) 0px 4px 16px,\r\n    rgba(17, 17, 26, 0.05) 0px 8px 32px;\r\n  height: 240px;\r\n}\r\n.header {\r\n  font-weight: 400;\r\n  height: 60px;\r\n  line-height: 80px;\r\n  color: 333;\r\n}\r\n.seckill {\r\n  height: 240px;\r\n  padding-top: 25px;\r\n  text-align: center;\r\n  background-color: #f02b2b;\r\n}\r\n.seckill img {\r\n  margin-top: 20px;\r\n  width: 30px;\r\n}\r\n.seckill h3 {\r\n  font-weight: 400;\r\n  color: #fff;\r\n  font-size: 25px;\r\n  margin-top: 10px;\r\n}\r\n.seckill p {\r\n  font-size: 10px;\r\n  color: #fff;\r\n  margin-top: 10px;\r\n}\r\n.time {\r\n  display: flex;\r\n  margin-left: 50%;\r\n  transform: translate(-50%);\r\n  margin-top: 5px;\r\n  width: 100px;\r\n}\r\n.time div {\r\n  height: 30px;\r\n  width: 30px;\r\n  margin-left: 3px;\r\n  background-color: #000;\r\n  color: #fff;\r\n  font-weight: 700;\r\n  text-align: center;\r\n  line-height: 30px;\r\n}\r\n.time::after {\r\n  display: block;\r\n  content: '';\r\n  width: 100px;\r\n  height: 1px;\r\n  background-color: #f02b2b;\r\n  position: absolute;\r\n  top: 15px;\r\n}\r\n</style>"]}]}