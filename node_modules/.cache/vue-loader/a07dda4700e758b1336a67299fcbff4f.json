{"remainingRequest":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/ShopRegister.vue?vue&type=style&index=0&id=e802f71a&scoped=true&lang=css&","dependencies":[{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/src/views/ShopRegister.vue","mtime":1677682822548},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengwanjie/file/IdeaProjects/mall/mall-system/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouaGQgew0KICBoZWlnaHQ6IDUwcHg7DQogIGxpbmUtaGVpZ2h0OiA1MHB4Ow0KICBib3gtc2hhZG93OiAwIDFweCAxcHggMXB4IHJnYmEoMjA0LCAyMDQsIDIwNCwgMC41KTsNCiAgZGlzcGxheTogZmxleDsNCn0NCg0KLmhkLWl0ZW0gew0KICB3aWR0aDogMTAwcHg7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgY29sb3I6ICMyNjI2MjY7DQp9DQouYmIgew0KICBoZWlnaHQ6IDIwcHg7DQogIHdpZHRoOiAxcHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNiZmJmYmY7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgdG9wOiAxNXB4Ow0KfQ0KLmJkIHsNCiAgd2lkdGg6IDkwJTsNCiAgbWFyZ2luLWxlZnQ6IDUwJTsNCiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSk7DQogIG1hcmdpbi10b3A6IDIwcHg7DQogIGhlaWdodDogNTAwcHg7DQogIG1hcmdpbi1ib3R0b206IDUwcHg7DQogIGJveC1zaGFkb3c6IHJnYmEoMTQ5LCAxNTcsIDE2NSwgMC4yKSAwcHggOHB4IDI0cHg7DQogIHBhZGRpbmc6IDIwcHg7DQp9DQouaDIgew0KICB3aWR0aDogMTgwcHg7DQp9DQouYmQtaGQgew0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIGZvbnQtc2l6ZTogMjBweDsNCiAgaGVpZ2h0OiA1MHB4Ow0KICBsaW5lLWhlaWdodDogNTBweDsNCiAgY29sb3I6ICM1MjAwMDA7DQogIGZvbnQtd2VpZ2h0OiA0MDA7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjOw0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KfQ0K"},{"version":3,"sources":["ShopRegister.vue"],"names":[],"mappings":";AA2JA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShopRegister.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <header class=\"hd\">\r\n      <img\r\n        src=\"../assets/upload/logo.svg\"\r\n        width=\"30px\"\r\n        style=\"margin-left: 10px\"\r\n        alt=\"\"\r\n      />\r\n      <h3 class=\"hd-item\">\r\n        <a href=\"javascript:;\" @click=\"toHome\"> 在线商城 </a>\r\n      </h3>\r\n      <div class=\"bb\"></div>\r\n      <h3 class=\"hd-item h2\">欢迎注册成为商家</h3>\r\n    </header>\r\n    <div class=\"bd\">\r\n      <h3 class=\"bd-hd\">店家账号注册</h3>\r\n      <el-row type=\"flex\">\r\n        <el-col :span=\"8\" :push=\"8\">\r\n          <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n            <el-form-item label=\"手机号\">\r\n              <el-input\r\n                v-model=\"form.telephone\"\r\n                placeholder=\"请输入手机号\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户名\">\r\n              <el-input\r\n                v-model=\"form.username\"\r\n                placeholder=\"请输入用户名\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"真实姓名\">\r\n              <el-input\r\n                v-model=\"form.realName\"\r\n                placeholder=\"请输入姓名\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"店铺名称\">\r\n              <el-input\r\n                v-model=\"form.shopName\"\r\n                placeholder=\"请输入店铺名称\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"设置密码\">\r\n              <el-input\r\n                v-model=\"form.password\"\r\n                type=\"password\"\r\n                auto-complete=\"new-password\"\r\n                placeholder=\"请输入密码\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n      </el-row>\r\n      <div style=\"text-align: center\">\r\n        <el-checkbox v-model=\"checked\">我已阅读并同意 </el-checkbox>\r\n        <el-link type=\"primary\"> 《在线商城店家注册协议》 </el-link>\r\n      </div>\r\n      <div style=\"text-align: center; margin-top: 20px\">\r\n        <el-button type=\"success\" @click=\"register\">注册账号并开店</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '../utils/request'\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {},\r\n      checked: false,\r\n      timer: null\r\n    }\r\n  },\r\n  methods: {\r\n    toHome() {\r\n      this.$router.push('/home')\r\n    },\r\n    warn(msg) {\r\n      this.$message({\r\n        message: msg,\r\n        type: 'warning',\r\n        duration: 2000\r\n      })\r\n    },\r\n    register() {\r\n      let shop = this.form\r\n      if (typeof shop.telephone == 'undefined') {\r\n        this.warn('请填写手机号!')\r\n        return\r\n      }\r\n      if (typeof shop.username == 'undefined') {\r\n        this.warn('用户名不能为空!')\r\n        return\r\n      }\r\n      if (typeof shop.realName == 'undefined') {\r\n        this.warn('请填写真实姓名!')\r\n        return\r\n      }\r\n      if (typeof shop.shopName == 'undefined') {\r\n        this.warn('请填写店铺名称!')\r\n        return\r\n      }\r\n      if (typeof shop.password == 'undefined') {\r\n        this.warn('请设置密码!')\r\n        return\r\n      }\r\n      if (!/^[a-zA-Z0-9_]{4,16}$/.test(shop.username)) {\r\n        this.warn('用户名4-16位, 且只能包含字母、数字、下划线!')\r\n        return\r\n      }\r\n      if (!/^[\\u4e00-\\u9fa5]{2,6}$/.test(shop.realName)) {\r\n        this.warn('姓名格式错误')\r\n        return\r\n      }\r\n      if (!this.checked) {\r\n        this.warn('请先勾选同意协议!')\r\n        return\r\n      }\r\n      request\r\n        .post('/user/shop/register', shop)\r\n        .then((res) => {\r\n          if (res.code === '0') {\r\n            request.post('/shop', shop).then((res) => {\r\n              if (res.code === '0') {\r\n                this.$message({\r\n                  message: res.msg,\r\n                  type: 'success',\r\n                  duration: 1000\r\n                })\r\n                clearTimeout(this.timer)\r\n                this.timer = setTimeout(() => {\r\n                  this.$router.push('/login')\r\n                }, 1000)\r\n              } else {\r\n                this.$message.error('注册失败！错误原因：服务器错误!')\r\n              }\r\n            })\r\n          } else if (res.code === '1') {\r\n            this.$message.error('登录失败！错误原因：' + res.msg)\r\n          } else {\r\n            this.$message.error('注册失败！错误原因：服务器错误!')\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.hd {\r\n  height: 50px;\r\n  line-height: 50px;\r\n  box-shadow: 0 1px 1px 1px rgba(204, 204, 204, 0.5);\r\n  display: flex;\r\n}\r\n\r\n.hd-item {\r\n  width: 100px;\r\n  text-align: center;\r\n  color: #262626;\r\n}\r\n.bb {\r\n  height: 20px;\r\n  width: 1px;\r\n  background-color: #bfbfbf;\r\n  position: relative;\r\n  top: 15px;\r\n}\r\n.bd {\r\n  width: 90%;\r\n  margin-left: 50%;\r\n  transform: translate(-50%);\r\n  margin-top: 20px;\r\n  height: 500px;\r\n  margin-bottom: 50px;\r\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\r\n  padding: 20px;\r\n}\r\n.h2 {\r\n  width: 180px;\r\n}\r\n.bd-hd {\r\n  text-align: center;\r\n  font-size: 20px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  color: #520000;\r\n  font-weight: 400;\r\n  border-bottom: 1px solid #ccc;\r\n  margin-bottom: 20px;\r\n}\r\n</style>"]}]}